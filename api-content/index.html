{"posts":[{"title":"æœ‰é™å’Œæ— é™çš„æ¸¸æˆè¯»åæ„Ÿ","content":"ã€Šæœ‰é™ä¸æ— é™çš„æ¸¸æˆã€‹ï¼ˆFinite and Infinite Gamesï¼‰æ˜¯è©¹å§†æ–¯Â·å¡æ–¯ï¼ˆJames P. Carseï¼‰äº1986å¹´å‡ºç‰ˆçš„ä¸€æœ¬å“²å­¦ä¹¦ç±ã€‚è¿™æœ¬ä¹¦ä»¥ä¸€ç§ç‹¬ç‰¹çš„æ–¹å¼æ¢è®¨äº†äººç”Ÿå’Œä¸–ç•Œçš„ä¸åŒå±‚é¢ï¼Œç‰¹åˆ«æ˜¯é€šè¿‡â€œæ¸¸æˆâ€çš„éšå–»æ¥æ¢è®¨äººç±»è¡Œä¸ºå’Œç”Ÿæ´»æ–¹å¼ã€‚ ä¸»è¦å†…å®¹å’Œè§‚ç‚¹ æœ‰é™æ¸¸æˆ vs. æ— é™æ¸¸æˆ â€¢ æœ‰é™æ¸¸æˆï¼š â€¢ æœ‰æ˜ç¡®çš„å¼€å§‹å’Œç»“æŸã€‚ â€¢ å‚ä¸è€…åœ¨æ—¢å®šçš„è§„åˆ™ä¸‹ç«äº‰ã€‚ â€¢ ç›®æ ‡æ˜¯èµ¢å¾—æ¯”èµ›ï¼Œèµ¢å¾—èƒœåˆ©æ„å‘³ç€æ¸¸æˆçš„ç»“æŸã€‚ â€¢ ä¾‹å¦‚ï¼šä½“è‚²æ¯”èµ›ã€å•†ä¸šç«äº‰ã€æˆ˜äº‰ç­‰ã€‚ â€¢ æ— é™æ¸¸æˆï¼š â€¢ æ²¡æœ‰å›ºå®šçš„è§„åˆ™å’Œæ—¶é—´é™åˆ¶ï¼Œè§„åˆ™å¯ä»¥éšæ—¶æ”¹å˜ã€‚ â€¢ å‚ä¸è€…çš„ç›®æ ‡ä¸æ˜¯èµ¢å¾—æ¯”èµ›ï¼Œè€Œæ˜¯ç»§ç»­æ¸¸æˆï¼Œä¿æŒæ¸¸æˆçš„å»¶ç»­ã€‚ â€¢ å¼ºè°ƒçš„æ˜¯æŒç»­çš„å‚ä¸å’Œæ¢ç´¢ï¼Œè€Œéç»ˆç»“ã€‚ â€¢ ä¾‹å¦‚ï¼šç”Ÿæ´»æœ¬èº«ã€æ–‡åŒ–çš„å‘å±•ã€åˆ›é€ æ€§çš„æ´»åŠ¨ç­‰ã€‚ æ¸¸æˆçš„å¿ƒæ€ â€¢ å¡æ–¯è®¤ä¸ºï¼Œç”Ÿæ´»ä¸­å¤§éƒ¨åˆ†çš„è¡Œä¸ºå’Œå†³ç­–éƒ½å¯ä»¥å½’ç±»ä¸ºæœ‰é™æ¸¸æˆæˆ–æ— é™æ¸¸æˆã€‚æœ‰é™æ¸¸æˆçš„ç©å®¶å…³æ³¨çš„æ˜¯æ§åˆ¶ã€æƒåŠ›å’Œèƒœåˆ©ï¼Œè€Œæ— é™æ¸¸æˆçš„ç©å®¶åˆ™æ›´å…³æ³¨å¼€æ”¾æ€§ã€å¯èƒ½æ€§å’Œåˆ›é€ æ€§ã€‚ è§„åˆ™ä¸è‡ªç”± â€¢ åœ¨æœ‰é™æ¸¸æˆä¸­ï¼Œè§„åˆ™æ˜¯å›ºå®šçš„ï¼Œæ‰“ç ´è§„åˆ™å³æ„å‘³ç€ä½œå¼Šæˆ–å¤±è´¥ã€‚ â€¢ åœ¨æ— é™æ¸¸æˆä¸­ï¼Œè§„åˆ™å¯ä»¥è¢«æ”¹å˜ï¼Œç©å®¶æœ‰æ›´å¤šçš„è‡ªç”±å»æ¢ç´¢æ–°çš„å¯èƒ½æ€§ï¼Œåˆ›é€ æ–°çš„è§„åˆ™ã€‚ èµ¢å®¶ä¸è¾“å®¶ â€¢ æœ‰é™æ¸¸æˆä¸­ï¼Œèµ¢å®¶å’Œè¾“å®¶æ˜¯æ˜ç¡®çš„ï¼Œèƒœåˆ©æ„å‘³ç€æ¸¸æˆçš„ç»ˆç»“ã€‚ â€¢ æ— é™æ¸¸æˆä¸­ï¼Œæ²¡æœ‰æœ€ç»ˆçš„èµ¢å®¶æˆ–è¾“å®¶ï¼Œå…³é”®åœ¨äºæ¸¸æˆçš„æŒç»­è¿›è¡Œå’Œä¸æ–­æ¼”å˜ã€‚ è§’è‰²ä¸èº«ä»½ â€¢ å¡æ–¯åŒºåˆ†äº†â€œè§’è‰²â€å’Œâ€œèº«ä»½â€ï¼š â€¢ è§’è‰²æ˜¯æœ‰é™æ¸¸æˆä¸­æ‰®æ¼”çš„ç‰¹å®šèº«ä»½ï¼Œå—åˆ¶äºè§„åˆ™å’ŒæœŸæœ›ã€‚ â€¢ èº«ä»½æ˜¯æ— é™æ¸¸æˆä¸­çš„è‡ªæˆ‘è®¤çŸ¥ï¼Œæ›´åŠ å¼€æ”¾å’ŒæµåŠ¨ã€‚ ç”Ÿå‘½çš„å“²å­¦ â€¢ å¡æ–¯é€šè¿‡è¿™äº›å¯¹æœ‰é™ä¸æ— é™æ¸¸æˆçš„åˆ†æï¼Œè¯•å›¾å¼•å¯¼è¯»è€…å»åæ€è‡ªå·±åœ¨ç”Ÿæ´»ä¸­çš„é€‰æ‹©ï¼Œæ˜¯éµå¾ªæœ‰é™æ¸¸æˆçš„æ¨¡å¼ï¼Œè¿˜æ˜¯è¿½æ±‚ä¸€ç§æ›´å¼€æ”¾ã€è‡ªç”±å’Œåˆ›é€ æ€§çš„æ— é™æ¸¸æˆæ–¹å¼ã€‚ æ€»ç»“ ã€Šæœ‰é™ä¸æ— é™çš„æ¸¸æˆã€‹é¼“åŠ±è¯»è€…è¶…è¶Šä¼ ç»Ÿçš„èƒœè´Ÿè§‚å¿µï¼Œè¿½æ±‚ä¸€ç§æ›´å…·åˆ›é€ æ€§ã€å¼€æ”¾æ€§å’ŒæŒç»­æ€§çš„ç”Ÿæ´»æ–¹å¼ã€‚å®ƒä¸ä»…ä»…æ˜¯ä¸€æœ¬å“²å­¦ä¹¦ï¼Œæ›´æ˜¯ä¸€ç§ç”Ÿæ´»çš„æŒ‡å¯¼ï¼Œæé†’æˆ‘ä»¬åœ¨é¢å¯¹ç”Ÿæ´»çš„å„ç§æŒ‘æˆ˜å’Œé€‰æ‹©æ—¶ï¼Œå¯ä»¥é‡‡å–ä¸åŒçš„å¿ƒæ€å’Œè§†è§’ã€‚ ","link":"https://DennyWanye.GitHub.io/post/you-xian-he-wu-xian-de-you-xi-du-hou-gan/"},{"title":"å‡çº§Nodeç‰ˆæœ¬ï¼šV12->V20/V16->V20","content":"èƒŒæ™¯ é¡¹ç›®ä¸Šé¢æœ€è¿‘éœ€è¦å°†nodeçš„ç‰ˆæœ¬å‡çº§åˆ°V20ï¼Œä¸è¿‡ç°åœ¨é¡¹ç›®é‡Œé¢æœ‰çš„ç”¨çš„æ˜¯V12çš„nodeï¼Œæœ‰çš„ç”¨çš„æ˜¯V16çš„nodeã€‚ ä¸€ã€åˆ©ç”¨nvmå°†é¡¹ç›®çš„nodeç¯å¢ƒè½¬æ¢ä¸º20 nvm æ˜¯ä¸€ç§å¾ˆæ–¹ä¾¿ç®¡ç†æœ¬åœ°nodeç‰ˆæœ¬çš„å·¥å…·ï¼Œå¯ä»¥å¿«é€Ÿçš„åˆ‡æ¢æœ¬åœ°çš„nodeç¯å¢ƒã€‚ nvm use 20 äºŒã€è§£å†³npm içš„æŠ¥é”™ ä»¥ä¸‹æ˜¯æŠ¥é”™å’Œå¦‚ä½•è§£å†³çš„ï¼š æŠ¥é”™1ï¼š Could not resolve dependency: peer react-dom@&quot;^15.4.2&quot; from react-addons-test-utils@15.6.2 node_modules/react-addons-test-utils dev react-addons-test-utils@&quot;^15.1.0&quot; from the root project åŸå› ï¼š This package is deprecated as of version 15.5.0 TestUtils have been moved to react-dom/test-utils Shallow renderer has been moved to react-test-renderer/shallow è§£å†³ï¼š å› ä¸ºé¡¹ç›®é‡Œé¢æ²¡æœ‰å¼•ç”¨ï¼Œæ‰€ä»¥åˆ é™¤è¯¥åŒ… æŠ¥é”™2ï¼š Could not resolve dependency: peer webpack@&quot;&gt;=1.12.9 &lt;3.0.0&quot; from babel-plugin-webpack-loaders@0.9.0 node_modules/babel-plugin-webpack-loaders dev babel-plugin-webpack-loaders@&quot;^0.9.0&quot; from the root project åŸå› ï¼š package.jsonä¸­çš„webpackç‰ˆæœ¬ä¸º3.12.0ï¼Œè€Œ babel-plugin-webpack-loaders@0.9.0éœ€è¦çš„webpackç‰ˆæœ¬ä¸º&gt;=1.12.9 â¤ï¸.0.0 è§£å†³ï¼š å› ä¸ºbabel-plugin-webpack-loaderså¤ªæ—§äº†åœæ­¢ç»´æŠ¤ï¼Œæ²¡æœ‰æ›´æ–°çš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥åªèƒ½å°†webpacké™ä½ç‰ˆæœ¬ï¼Œé™ä½ä¸º2.7 æŠ¥é”™3ï¼š Could not resolve dependency: peer draft-js@&quot;^0.10.x&quot; from react-draft-wysiwyg@1.12.13 node_modules/react-draft-wysiwyg react-draft-wysiwyg@&quot;^1.12.13&quot; from the root project åŸå› ï¼š react-draft-wysiwygéœ€è¦çš„ä¸º&quot;draft-js&quot;: &quot;0.10.xâ€ï¼Œè€Œpackage.jsonä¸­çš„ä¸º&quot;0.11.7&quot; è§£å†³ï¼š å› ä¸ºé¡¹ç›®é‡Œé¢æ²¡æœ‰å¼•ç”¨ï¼Œæ‰€ä»¥åˆ é™¤è¯¥åŒ… æŠ¥é”™4ï¼š 'darwin-x64' binaries cannot be used on the 'darwin-arm64v8' platform. Please remove the 'node_modules/sharp/vendor' directory and run 'npm install'. åŸå› ï¼š Sharp éœ€è¦å•ç‹¬å®‰è£…é€‚é…æœ¬æœºè‹¹æœM1èŠ¯ç‰‡çš„åŒ… è§£å†³ï¼š å‘ç°å…³äºsharpåŒ…çš„å®‰è£…é—®é¢˜ï¼Œåœ¨M1èŠ¯ç‰‡çš„Macä¸Šï¼Œéœ€è¦åœ¨å®‰è£…çš„æ—¶å€™ï¼Œåˆ©ç”¨ npm install --cpu=arm64 --os=darwin sharp æŠ¥é”™5ï¼š å…³äºextract-text-webpack-pluginçš„ç‰ˆæœ¬æ”¯æŒ3.0ä»¥ä¸Šçš„webpackçš„æŠ¥é”™ï¼Œé”™è¯¯æš‚æ—¶æ‰¾ä¸åˆ°äº†ï¼Œè·Ÿ æŠ¥é”™2ç±»ä¼¼ï¼Œè€Œä¸”è¿™ä¸ªæŠ¥å› ä¸ºå¼ƒç”¨äº†ï¼Œæ‰€ä»¥åœ¨npmå®˜ç½‘ä¸Šé¢æœç´¢ä¸åˆ°ï¼Œæˆ‘æœ€åæ˜¯åœ¨è°·æ­Œæœç´¢é‡Œé¢æœç´¢è¿™ä¸ªåŒ…åç§°ï¼Œæ‰æ‰¾åˆ°äº†ä¹‹å‰çš„åœ°å€ã€‚ ä»¥ä¸‹æ˜¯åœ°å€ï¼šhttps://www.npmjs.com/package/extract-text-webpack-plugin å»ºè®®é‡è§è¿™ç§ç›´æ¥åˆ©ç”¨urlè§„å¾‹æ›¿æ¢æ‰åŒ…åç§°è¿›è¡Œè®¿é—® https://www.npmjs.com/package/åŒ…åç§° åŸå› ï¼š extract-text-webpack-pluginçš„ç‰ˆæœ¬æ”¯æŒ3.0ä»¥ä¸Šçš„webpack è§£å†³ï¼š æ‰¾åˆ°å…¶gité“¾æ¥åï¼Œå°†å…¶é™ä½è‡³å¯¹åº”webpack2.0ç‰ˆæœ¬çš„åŒ… ","link":"https://DennyWanye.GitHub.io/post/sheng-ji-node-ban-ben-v12-greaterv20v16-greaterv20/"},{"title":"è®°å½•MongoDBå‡çº§ 5.0 to 6.0","content":"ä¸€ã€ç¡®å®šMongoDBçš„å‡çº§ç‰ˆæœ¬å…¼å®¹æ€§å½±å“ å¯ä»¥ä»å®˜ç½‘æ‰¾åˆ°ï¼š https://www.mongodb.com/zh-cn/docs/manual/release-notes/6.0-compatibility/ å…ˆçœ‹ä¸€éï¼Œåœ¨ç»“åˆæœ¬åœ°ä»£ç äº†è§£éœ€è¦å¤„ç†çš„é”™è¯¯ï¼š åƒæ˜¯è¿™æ¬¡éœ€è¦å¤„ç†çš„ä»£ç å¦‚ä¸‹ï¼š not support options: usecreateindex, usefindandmodify, autoreconnect reconnectinterval, reconnecttries å…³æ³¨å¸¦æœ‰ $regex æŸ¥è¯¢çš„åŠŸèƒ½ï¼Œ test case è¦åŒ…å«è¿™ç±»åŠŸèƒ½ åˆ é™¤çš„æ“ä½œç¬¦ å·²åˆ é™¤å‚æ•° --tlsFIPSMode å¼ƒç”¨ db.collection.reIndex() æ£€æŸ¥ accumulatorã€accumulatorã€accumulatorã€function å’Œ $where è¡¨è¾¾å¼ä¸­å·²åˆ é™¤å­—ç¬¦ä¸²å’Œæ•°ç»„å‡½æ•° æ£€æŸ¥ expireAfterSeconds è®¾ä¸º NaN çš„ TTL index //æŸ¥è¯¢ TTL Non index çš„è„šæœ¬ function getNaNIndexes() { const nan_index = []; const dbs = db.adminCommand({ listDatabases: 1 }).databases; dbs.forEach((d) =&gt; { if (d.name != 'local') { const listCollCursor = db .getSiblingDB(d.name) .runCommand({ listCollections: 1 }).cursor; const collDetails = { db: listCollCursor.ns.split(&quot;.$cmd&quot;)[0], colls: listCollCursor.firstBatch.map((c) =&gt; c.name), }; collDetails.colls.forEach((c) =&gt; db .getSiblingDB(collDetails.db) .getCollection(c) .getIndexes() .forEach((entry) =&gt; { if (Object.is(entry.expireAfterSeconds, NaN)) { nan_index.push({ ns: `${collDetails.db}.${c}`, index: entry }); } }) ); } }); return nan_index; }; getNaNIndexes(); äºŒã€æ ¹æ®ä¸Šé¢åšå‡ºæ¥çš„ä¿¡æ¯ï¼Œå¯¹æœ¬åœ°ä»£ç ä½œå‡ºä¿®æ”¹ è¿™ä¸€æ­¥ï¼Œä¸»è¦æ˜¯æ ¹æ®ç¬¬ä¸€æ­¥æ•´ç†å‡ºæ¥çš„ä¿¡æ¯åšä»£ç æ£€æŸ¥å’Œä¿®æ”¹ï¼Œç¡®å®šæœ¬åœ°çš„ä»£ç å·²ç»åšäº†ç¬¬ä¸€æ­¥çš„å…¼å®¹æ€§å¤„ç†ã€‚ ä¸‰ã€å°†æœ¬åœ°çš„é¡¹ç›®è¿æ¥ä¸Š6.0ç‰ˆæœ¬çš„MongoDBæ•°æ®åº“ï¼Œè¿è¡Œå¹¶è§£å†³æŠ¥é”™ è¿™ä¸€æ­¥ï¼Œç›´æ¥åœ¨æœ¬åœ°é¡¹ç›®ä¸Šé¢é“¾æ¥6.0ç‰ˆæœ¬çš„æ•°æ®åº“ï¼Œå¾ˆå¹¸è¿ï¼Œæ²¡æœ‰å‡ºç°å¾ˆéš¾è§£å†³çš„æŠ¥é”™ã€‚ ","link":"https://DennyWanye.GitHub.io/post/ji-lu-mongodb-sheng-ji-50-to-60/"},{"title":"Expo Realm æ•°æ®åº“æ“ä½œ","content":"ä¸€ã€è¯»å–æ“ä½œ ç”¨ useQuery çš„æ–¹æ³•ï¼š export type RealmQuerySearchText = { searchKey: string, searchValue: any, } export const useQueryN = (flag: flag, searchParams?: RealmQuerySearchText | undefined) =&gt; { return useQuery(flag, item =&gt; { if (searchParams) { return item.filtered(searchParams.searchKey + ' TEXT $0', searchParams.searchValue) } else { return item } }); } ç”¨ useObjectçš„æ–¹æ³•æ²¡æœ‰æˆåŠŸè¿‡ï¼Œä¸çŸ¥é“æ€ä¹ˆä¼ é€’ _id æ•°æ®ï¼Œä¸è¿‡ä»¥ä¸‹æ˜¯ç”¨ realm.objectæ–¹æ³•çš„ç¤ºä¾‹ã€‚ await realm .objects(UserData) //UserData æ˜¯ schema .filtered(`userId == $0`, userId) äºŒã€å†™å…¥æ“ä½œ åˆ©ç”¨ realm.write : ç¬¬ä¸€ç§æ–¹å¼ï¼š //timelinesBeforeSortçš„schema ä¸­ åŒ…å«äº† eventsçš„schemaï¼Œæ˜¯ä»¥Listçš„æ–¹å¼åŒ…å«çš„ //eventså¿…é¡»æ˜¯ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ï¼ˆå¯¹äºeventsçš„ä¸»é”®æ¥è¯´ï¼Œä¹Ÿå°±æ˜¯ä¸»é”®éœ€è¦æ–°å»ºï¼Œä¸èƒ½å­˜åœ¨ //è¿™ä¹Ÿå°±æ„å‘³ç€ä¸èƒ½ç”¨è¿™ç§æ–¹æ³•å°†å·²ç»å­˜åœ¨çš„events é“¾æ¥åˆ° timelinesBeforeSortçš„schemaä¸Š await realm.write(() =&gt; { timelinesBeforeSort.events = [...timelinesBeforeSort.events, { _id: new BSON.ObjectId(), what: what, why: why || '', how: how || '', start: start, end: end, who: [...who], where: [...where], }] }) ","link":"https://DennyWanye.GitHub.io/post/expo-realm-shu-ju-ku-cao-zuo/"},{"title":"Expo Realm é…ç½®æœ¬åœ°å’Œè¿œç«¯çš„æ•°æ®åº“è¿›è¡ŒåŒæ­¥","content":"å¼€å§‹ä¹‹å‰ åˆ›å»ºä¸€ä¸ªAppServiceï¼Œå¹¶å¼€å¯åŒæ­¥ï¼ˆæ³¨æ„æŸ¥çœ‹ä¸€ä¸‹æç¤ºæ³¨æ„é¡¹ï¼‰ è¿™ä¸ªä¸€æ­¥éœ€è¦åœ¨å®˜ç½‘è¿›è¡Œæ“ä½œï¼š å½“ç„¶ä½ éœ€è¦å…ˆåœ¨å®˜ç½‘åˆ›å»ºä¸€ä¸ªDB å’ŒAPP Serviceã€‚ æ³¨æ„1: ç¬¬ä¸€æ¬¡ä½¿ç”¨è¯·æ³¨æ„å°†æ¥å—åŒ¿åé“¾æ¥å¼€å¯ï¼Œå¦åˆ™ï¼Œä½ å¾ˆéš¾è¿ä¸Šï¼Œå¯ä»¥åç»­æŒ‰ç…§ä½ çš„éœ€è¦è¿›è¡Œå¢åŠ æƒé™éªŒè¯åŠŸèƒ½ï¼š æ³¨æ„2: å°†å¦‚æœä½ æç¤ºIP Addressé™åˆ¶è®¿é—®çš„é—®é¢˜ï¼Œè¯·ç›´æ¥æ·»åŠ ä¸€ä¸‹è§„åˆ™åˆ°Network Accessä¸­ï¼Œä»£è¡¨å…è®¸ä»»æ„IPè¿›è¡Œè®¿é—®ï¼š åœ¨åç«¯å¯ç”¨ Flexible Syncã€‚æ‚¨å¿…é¡»åœ¨åç«¯é…ç½® Flexible Syncï¼Œç„¶åæ‰èƒ½åœ¨å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ï¼š https://www.mongodb.com/zh-cn/docs/atlas/app-services/sync/configure/enable-sync/#std-label-enable-flexible-sync åˆå§‹åŒ–åº”ç”¨å®¢æˆ·ç«¯ doc: https://www.mongodb.com/zh-cn/docs/atlas/device-sdks/sdk/react-native/app-services/connect-to-app-services-app/#std-label-react-native-connect-to-mongodb-realm-backend-app æ­¤æ­¥éª¤çš„ç›®çš„æ˜¯ä¸ºäº†è®©localAppå’Œè¿œç¨‹åˆ›å»ºçš„appè¿›è¡Œè®¿é—®ï¼š ä»¥ä¸‹ä¸ºä»£ç ï¼š import React from 'react'; import {AppProvider, UserProvider, RealmProvider} from '@realm/react'; function AppWrapperSync() { return ( &lt;AppProvider id={APP_ID}&gt; //1. è¾“å…¥AppID &lt;UserProvider fallback={LogIn}&gt; //2.åˆ©ç”¨UserProviderï¼Œfallbackè¿›è¡Œç™»å½•éªŒè¯ï¼Œå»ºè®®ä¸€å¼€å§‹ä½¿ç”¨åŒ¿åç™»å½•ï¼Œä½¿ç”¨åŒ¿åç™»å½•éœ€è¦ç¡®è®¤ä¸€ä¸‹ æ³¨æ„1 çš„è®¾ç½® &lt;RealmProvider //æ­¤å¤„è®¾ç½® sync å¯¹è±¡çš„ flexible: trueï¼Œ ä»£è¡¨è¿›è¡ŒåŒæ­¥ã€‚ schema={[YourObjectModel]} sync={syncConfigWithErrorHandling}&gt; &lt;RestOfApp /&gt; &lt;/RealmProvider&gt; &lt;/UserProvider&gt; &lt;/AppProvider&gt; ); } //å¤„ç†å¦‚æœåŒæ­¥è¿œç«¯realmå¤±è´¥çš„æƒ…å†µï¼Œä½œç”¨ï¼ŒåŒæ­¥å¤±è´¥çš„æŠ¥é”™ä¿¡æ¯å½±å“ç”¨æˆ·ä½“éªŒ const syncConfigWithErrorHandling: any = { flexible: true, //è®¾ç½®ä¸ºtrueï¼Œå¼€å¯åŒæ­¥ onError: (_session: any, error: any) =&gt; { //å¤„ç†æŠ¥é”™æƒ…å†µï¼Œæ„Ÿè§‰å¿½ç•¥å°±å¥½ console.log(_session) console.log(error); }, //ç”¨äºç»™remoteåˆå§‹åŒ–schemas // initialSubscriptions: { // update(subs, realm) { // subs.add(realm.objects(schemas)); // }, // } newRealmFileBehavior: realmAccessBehavior, //ç”¨äºå¤„ç†ç¦»çº¿æ—¶ï¼ŒåŒæ­¥å¤±è´¥çš„æƒ…å†µ existingRealmFileBehavior: realmAccessBehavior, //ç”¨äºå¤„ç†ç¦»çº¿æ—¶ï¼ŒåŒæ­¥å¤±è´¥çš„æƒ…å†µ } //æ­¤ä¸ºåœ¨å¦‚æœé¡¹ç›®ç¦»çº¿æ—¶ï¼ŒåŒæ­¥çš„è®¾ç½®ï¼Œä¸“é—¨é’ˆå¯¹appç¦»çº¿æ—¶å€™çš„å¤„ç†ï¼šhttps://www.mongodb.com/zh-cn/docs/atlas/device-sdks/sdk/react-native/sync-data/configure-a-synced-realm/#access-a-synced-realm-while-offline const realmAccessBehavior: Realm.OpenRealmBehaviorConfiguration = { //type: Realm.OpenRealmBehaviorType.OpenImmediately, //@ts-ignore type: 'downloadBeforeOpen', //https://www.mongodb.com/docs/realm-sdks/react/latest/enums/Realm.OpenRealmBehaviorType.html //@ts-ignore timeOutBehavior: 'openLocalRealm', //https://www.mongodb.com/docs/realm-sdks/react/latest/enums/Realm.OpenRealmTimeOutBehavior.html timeOut: 1000, }; å¯¹å®¢æˆ·ç«¯é¡¹ç›®ä¸­çš„ç”¨æˆ·è¿›è¡Œèº«ä»½éªŒè¯ï¼š Loginçš„ä»£ç é€»è¾‘ï¼Œå¯ä»¥ä½¿ç”¨API Keyï¼Œé‚®ç®±/å¯†ç ç­‰ï¼Œä½†æ˜¯å›½å†…ç½‘ç»œåŸå› ä¸”åªæ˜¯æµ‹è¯•ï¼Œæ‰€ä»¥ä½¿ç”¨åŒ¿åç™»å½•ï¼Œ æ³¨æ„1 import { View, Text } from 'react-native'; import { useEffect } from 'react' import { useAuth } from '@realm/react'; const LogIn = () =&gt; { // `logInWithAnonymous` logs in a user using an // anonymous Realm Credential. // `result` gives us access to the result of the // current operation. In this case, `logInWithAnonymous`. const { logInWithAnonymous, result } = useAuth(); //ç›´æ¥åˆ©ç”¨logInWithAnonymousæ¥è¿›è¡ŒåŒ¿åç™»å½• // Log in an anyonmous user on component render. // On successful login, this fallback component unmounts. useEffect(() =&gt; { logInWithAnonymous(); }, []) return ( &lt;View &gt; {!result.error &amp;&amp; &lt;Text&gt;Please log in&lt;/Text&gt;} &lt;View&gt; {result.pending &amp;&amp; &lt;Text&gt;{JSON.stringify(result.pending)}&lt;/Text&gt;} {result.error &amp;&amp; &lt;Text&gt;{JSON.stringify(result.error)}&lt;/Text&gt;} &lt;/View&gt; &lt;/View&gt; ); }; export default LogIn APP_IDçš„ä½ç½®ï¼š è°ƒç”¨è®¢é˜…æ–¹æ³•ï¼Œè®¢é˜…æ¯ä¸€ä¸ªéœ€è¦åŒæ­¥çš„modelï¼Œè¿™æ—¶ä½ çš„æ•°æ®æ”¹åŠ¨ import React from 'react'; import { useState, useEffect } from 'react'; import { useRealm } from '@realm/react'; import { WaitForSync} from 'realm'; import { useColorScheme } from '@/hooks/useColorScheme'; import { useQueryN, useCreateAndUpdate, useDelte } from '@/hooks/useRealmNovle'; import ListOfRealmModels from '@/constants/ListOfRealmModels'; const realm = useRealm() const ideas: any = useQueryN(ListOfRealmModels.ideas); //æ­¤å¤„ideasçš„å€¼ä¸ºä»æœ¬åœ°æ•°æ®åº“åº“ä¸­åˆ©ç”¨ useQuery(&quot;Ideas&quot;)æ‹¿å‡ºæ¥çš„å€¼ï¼Œè¿™ä¸ªå€¼æ˜¯å¸¦æœ‰subscribeæ–¹æ³•çš„ã€‚ const tags: any = useQueryN(ListOfRealmModels.tags); const collections: any = useQueryN(ListOfRealmModels.collections); const objects: any = useQueryN(ListOfRealmModels.object); const events: any = useQueryN(ListOfRealmModels.events); const subscribeArray: any = [ideas, tags, collections, objects, events] function subscribeModel(subscribeArray: Array&lt;any&gt;) { // Create an async function so that we can `await` the // promise from `.subscribe()`. subscribeArray.forEach((item, index) =&gt; { const createSubscription = async () =&gt; { await item.subscribe({ name: 'subscribe' + index, behavior: WaitForSync.FirstTime, //When you subscribe to a query's results, the results do not contain objects until synced data is downloaded. When you do need to wait for synced objects to finish downloading, configure the waitForSync option. }); }; createSubscription().catch(console.error); }) } useEffect(() =&gt; { subscribeModel(subscribeArray) }, []); ä¿®æ”¹ç™»å½•æ–¹å¼ä¸ºé‚®ç®±/å¯†ç ç™»å½• åœ¨webçš„AppServiceä¸­å¼€å¯ç™»å½•æ–¹å¼ é…ç½®é‚®ç®±éªŒè¯ è¯´æ˜ï¼š æš‚æ—¶è®¾ç½®ä¸ºAutomatically confirm users ï¼Œè¿™æ ·å­å°±ä¸éœ€è¦é¢å¤–çš„éªŒè¯ç½‘é¡µäº†ï¼Œæ–¹ä¾¿å¼€å‘ åŒç†password reset Methodè®¾ç½®ä¸º Run a password reset functionï¼Œ ç„¶åè®¾ç½®é»˜è®¤å‡½æ•°ï¼ˆç›´æ¥ç‚¹å‡»ä¿å­˜å°±å¥½äº†ï¼‰ï¼Œè¿™ä¸ªå‡½æ•°è™½ç„¶æ— æ³•æ‰§è¡Œé¢„æœŸçš„ä¿®æ”¹åŠŸèƒ½ï¼Œä½†æ˜¯æ–¹ä¾¿æˆ‘ä»¬å¼€å§‹è¿›è¡Œå¼€å‘ï¼Œåé¢å¯ä»¥å¯¹è¿™ä¸ªè¿›è¡Œé…ç½®ã€‚ åˆ©ç”¨ useEmailPasswordAuth()æ¥è¿›è¡Œç™»å½•å’Œæ³¨å†Œ const { result, logIn, register } = useEmailPasswordAuth(); const loginFunction = async () =&gt; { if (!isLogin) { setIsLogin(true) showSnackbar('è¯·è¾“å…¥è´¦å·å¯†ç è¿›è¡Œç™»å½•ï¼Œè°¢è°¢ğŸ™ã€‚') return } if (email &amp;&amp; password) { logIn({ email, password }); } else { showSnackbar('è´¦å·æˆ–è€…å¯†ç ä¸ºç©ºï¼Œè¯·æ£€æŸ¥ï¼Œè°¢è°¢ğŸ™ã€‚') } } const hasEmailErrors = () =&gt; { if (email === '') { return false } return !email.includes('@'); }; const registerFunction = async () =&gt; { if (isLogin) { setIsLogin(false) showSnackbar('è¯·è¾“å…¥è´¦å·ã€å¯†ç å’Œç”¨æˆ·åè¿›è¡Œæ³¨å†Œï¼Œè°¢è°¢ğŸ™ã€‚') return } await register({ email, password }); }; useEffect(() =&gt; { //æ³¨æ„ï¼šåˆ©ç”¨useEffectåœ¨æ³¨å†Œå®Œæˆåï¼Œè§¦å‘ç™»å½•æ“ä½œï¼Œç”¨æˆ·æ³¨å†Œå®Œï¼Œä»¥åï¼Œè¿˜éœ€è¦ç™»å½•æ¿€æ´»ä¸€ä¸‹ã€‚å¦åˆ™å°±åªèƒ½åœ¨web çš„ App usersï¼ˆå·¦ä¾§ï¼‰--&gt; Users --&gt; Pending ä¸­æ‰èƒ½æ‰¾åˆ° if (result.success &amp;&amp; result.operation === AuthOperationName.Register) { logIn({ email, password }); } }, [result, logIn, email, password]); å…³äºä¿®æ”¹å·²ç»å­˜åœ¨çš„æ–‡æ¡£æ•°æ®ï¼š realm.create('UserData', { //è¿™ä¸ªå¯¹è±¡éœ€è¦ä¿®æ”¹å®Œæˆåçš„å®Œæ•´é›†åˆæ•°æ®ï¼ˆ?å­˜åœ¨ç–‘é—®ï¼Œéœ€è¦éªŒè¯ä¸€ä¸‹) _id: userData._id, userId: userId, tags: [...userData.tags, writeObj], ideas: [...userData.ideas], }, 'modified'); //æ­¤ä¸ºåˆ›å»ºæ•°æ®çš„æ–¹æ³• await realm.write(() =&gt; { realm.create(&lt;SchemaName&gt;, writeObj) }) æ–°æ·»åŠ schemaçš„æ–¹æ³• æœ¬åœ°æ·»åŠ å¥½model import { BSON, ObjectSchema, Object, List } from &quot;realm&quot;; import { Events } from &quot;./Events&quot;; export class Timelines extends Object&lt;Timelines&gt; { _id!: BSON.ObjectId; name!: string; desc: string = ''; events!: List&lt;Events&gt; ; static schema: ObjectSchema = { name: 'Timelines', properties: { _id: 'objectId', name: {type: 'string', indexed: 'full-text'}, desc: 'string', events: 'Events[]', }, primaryKey: '_id', }; } å°†å…¶æ”¾åˆ°åˆå§‹åŒ–å’Œè®¢é˜…ä¸­ åˆå§‹åŒ–ï¼š const schemas: any = [Ideas, Tags, Collections, ObjectOfCollections, Events, **Timelines**, UserData] //å¤„ç†å¦‚æœåŒæ­¥è¿œç«¯realmå¤±è´¥çš„æƒ…å†µï¼Œä½œç”¨ï¼ŒåŒæ­¥å¤±è´¥çš„æŠ¥é”™ä¿¡æ¯å½±å“ç”¨æˆ·ä½“éªŒ const syncConfigWithErrorHandling: any = { flexible: true, onError: (_session: any, error: any) =&gt; { console.log(_session) console.log(error); }, //æ˜¯å¦æ˜¯ç”¨äºç»™remoteåˆå§‹åŒ–schemasï¼Ÿ initialSubscriptions: { update(subs: any, realm: any) { subs.add(realm.objects(**schemas**)); }, }, newRealmFileBehavior: realmAccessBehavior, existingRealmFileBehavior: realmAccessBehavior, } &lt;PaperProvider&gt; &lt;AppProvider id={APP_ID} &gt; &lt;UserProvider fallback={LogIn}&gt; &lt;RealmProvider path='./NovelTagSys.realm' schema={schemas} sync={syncConfigWithErrorHandling} &gt; &lt;Stack&gt; &lt;Stack.Screen name=&quot;(tabs)&quot; options={{ headerShown: false }} /&gt; &lt;Stack.Screen name=&quot;+not-found&quot; /&gt; &lt;/Stack&gt; &lt;/RealmProvider&gt; &lt;/UserProvider&gt; &lt;/AppProvider&gt; &lt;/PaperProvider&gt; é”™è¯¯ï¼šClient attempted a write that is not allowed; it has been reverted fulllog: LOG {&quot;weakInternal&quot;: {Symbol(Realm.WeakSyncSession.external_pointer): {}}} LOG [SyncError: Client attempted a write that is not allowed; it has been reverted] é‡æ–°å¯åŠ¨è¿œç«¯çš„ sync æ ¹æ®æ–‡æ¡£è¯´æ˜ï¼Œä¿®æ”¹äº†schemaä¹‹åï¼Œéœ€è¦ Terminate Sync ä¹‹åï¼Œ å†å¼€å§‹å¯åŠ¨ ä¿®æ”¹æ–°å»ºçš„ schema æƒé™ï¼Œå¦åˆ™å‰ç«¯æ— æ³•å¯¹å…¶è¿›è¡Œè¯»å†™ ","link":"https://DennyWanye.GitHub.io/post/expo-realm-pei-zhi-ben-di-he-yuan-duan-de-shu-ju-ku-jin-xing-tong-bu/"},{"title":"åœ¨Expoé¡¹ç›®ä¸­ä½¿ç”¨ realm ","content":"ä¸€ã€å®‰è£… realmçš„å®˜æ–¹æœ‰ç»´æŠ¤ä¸€ä¸ªrealmæ”¯æŒçš„RNã€nodeã€Expoã€realmã€@realm/reactçš„å…¼å®¹æ€§å›¾è¡¨ï¼š https://github.com/realm/realm-js/blob/main/COMPATIBILITY.md npx expo install realm @realm/react Expo æœ¬èº«ä¸æ”¯æŒ realmï¼Œ æ‰€ä»¥éœ€è¦ç”¨å®‰å“ç¯å¢ƒæ¥è¿è¡Œï¼š npm install expo-dev-client npx expo run:android äºŒã€ åœ¨é¡¹ç›®æœ¬åœ°è¿è¡ŒRealm é…ç½® ReamlProvider ...more code... import { RealmProvider } from '@realm/react'; import { Ideas } from '@/models/Ideas'; import { Tags } from '@/models/Tags'; import { Collections } from '@/models/Collections'; ...more code... &lt;PaperProvider&gt; //path: ä¸ºå¯è®¾ç½®çš„å®‰è£…realmçš„ç›¸å¯¹è·¯å¾„ //schemaä¸ºéœ€è¦æå‰åˆ›å»ºçš„document æ ·å¼ //isMemory ä¸ºæ˜¯å¦åœ¨å†…å­˜ä¸­è¿è¡Œï¼Œæ˜¯çš„è¯ï¼Œæ•°æ®åªä¼šå‚¨å­˜åœ¨å†…å­˜ä¸­ï¼Œåä¹‹ï¼Œä¼šæ”¾åˆ°æœ¬åœ° &lt;RealmProvider path='./NovelTagSys.realm' schema={[Ideas, Tags, Collections]} inMemory={false}&gt; &lt;ThemeProvider value={colorScheme === 'dark' ? DarkTheme : DefaultTheme}&gt; &lt;Stack&gt; &lt;Stack.Screen name=&quot;(tabs)&quot; options={{ headerShown: false }} /&gt; &lt;Stack.Screen name=&quot;+not-found&quot; /&gt; &lt;/Stack&gt; &lt;/ThemeProvider&gt; &lt;/RealmProvider&gt; &lt;/PaperProvider&gt; åˆ›å»ºmodels åˆ›å»ºåµŒå¥—çš„ schemaçš„æ–¹å¼ï¼š https://www.mongodb.com/docs/atlas/device-sdks/sdk/react-native/model-data/relationships-and-embedded-objects/ è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¦‚ä½•å°†åˆ›å»ºçš„å¯¹è±¡å’Œåœ¨ç»„ä»¶ä¸­éœ€è¦ä½¿ç”¨çš„ interface ç±»å‹ä¸€è‡´ã€‚ import { BSON, ObjectSchema, Object, List } from &quot;realm&quot;; import { TagsTS } from &quot;@/constants/Interface&quot;; import { Tags } from &quot;./Tags&quot;; export class Collections extends Object&lt;Collections&gt; { _id!: BSON.ObjectId; name!: string; desc: string = ''; tags!: List&lt;Tags&gt; | TagsTS; //static primaryKey = '_id'; static schema: ObjectSchema = { name: 'Collections', properties: { _id: 'objectId', name: 'string', desc: 'string', tags: 'Tags[]', }, primaryKey: '_id', }; } CUDPæ“ä½œ import { useRealm, useQuery } from '@realm/react'; import { Tags } from '@/models/Tags'; const realm = useRealm() const tags = useQuery(Tags); const toUpdate = realm .objects(Tags) .filtered('name == $0', tag.name); //create realm.write(() =&gt; { realm.create(&quot;Tags&quot;, { _id: new BSON.ObjectId(), name: tag.name, type: tag.type, desc: tag.desc, color: tag.color, }) }) //update realm.write(() =&gt; { toUpdate[0].name = tag.name; toUpdate[0].type = tag.type; toUpdate[0].desc = tag.desc; }); //delete const toDelete = realm .objects(Tags) .filtered('name == $0', deleteTagName); realm.write(() =&gt; { realm.delete(toDelete) }) QA é—®é¢˜ä¸€ã€åœ¨ One-to-Many çš„ schema ä¸­è¿›è¡Œå¯¹åµŒå¥—çš„ å­schemaï¼Œä¼ é€’å€¼çš„æ—¶å€™ï¼Œå‘ç°å¦‚æœä¼ é€’çš„æ˜¯ç›¸åŒçš„æ•°ç»„ï¼Œä¼šå¯¼è‡´å…¶æ¸…ç©ºæ•°æ®åº“ä¸­ å­schemaï¼Œå¯¹åº”çš„å€¼ã€‚ å¦‚ä¸‹ Errorï¼Œæˆ‘æƒ³è¦å°† collectionTags çš„å€¼æ›´æ–°åˆ° toUpdate[0].tags ä¸­ï¼Œä½†æ˜¯å¦‚æœå®ƒä»¬ç›¸åŒçš„è¯ï¼Œåè€Œä¼šæ¸…é™¤realmä¸­ toUpdate[0].tags çš„å€¼ã€‚ åº”è¯¥æ˜¯åœ¨å°†æ•°æ®åº“ä¸­è·å–çš„ å­schema å¯¹åº”çš„å€¼ï¼Œéœ€è¦è¿›è¡Œè§£æ„èµ‹å€¼æ“ä½œï¼Œæ‰èƒ½ä¼ ç»™ realm.write è¿›è¡Œæ›´æ–°ã€‚ realm.write(() =&gt; { toUpdate[0].name = collectionNmae; toUpdate[0].desc = collectionDesc; toUpdate[0].tags = [...collectionTags]; //éœ€è¦è¿™æ ·æ“ä½œä¸€ä¸‹ }); //ä»¥ä¸‹æ“ä½œä¹Ÿä¼šæ¸…é™¤ toUpdate[0].tagså¯¹åº”æ•°æ®åº“ä¸­çš„å€¼ realm.write(() =&gt; { toUpdate[0].name = collectionNmae; toUpdate[0].desc = collectionDesc; // toUpdate[0].tags = [...collectionTags]; toUpdate[0].tags = toUpdate[0].tags; }); Errorï¼š LOG toUpdate LOG [{&quot;_id&quot;: [ObjectId], &quot;desc&quot;: &quot;this is a really big pig(changedasni ga )&quot;, &quot;name&quot;: &quot;pig king&quot;, &quot;tags&quot;: [Array]}] LOG toUpdate[0].tags LOG [{&quot;_id&quot;: [ObjectId], &quot;color&quot;: &quot;hsla(87,50%,70%,1)&quot;, &quot;desc&quot;: &quot;çŒªçš®å¤Ÿåšï¼Œèƒ½æŒ¨æ&quot;, &quot;manufacturer&quot;: [Array], &quot;name&quot;: &quot;æ‰›æ&quot;, &quot;type&quot;: &quot;ç‰¹é•¿&quot;}, {&quot;_id&quot;: [ObjectId], &quot;color&quot;: &quot;hsla(4,50%,70%,1)&quot;, &quot;desc&quot;: &quot;ç‰¹åˆ«èƒ½ç¡ï¼Œåƒå®Œå°±ç¡&quot;, &quot;manufacturer&quot;: [Array], &quot;name&quot;: &quot;å—œç¡&quot;, &quot;type&quot;: &quot;ç‰¹é•¿&quot;}, {&quot;_id&quot;: [ObjectId], &quot;color&quot;: &quot;hsla(106,50%,70%,1)&quot;, &quot;desc&quot;: &quot;èƒ½è¿›åŒ–æˆå¤©è“¬å°çŒª&quot;, &quot;manufacturer&quot;: [Array], &quot;name&quot;: &quot;èƒ½è¿›åŒ–&quot;, &quot;type&quot;: &quot;å¯èƒ½æ€§&quot;}, {&quot;_id&quot;: [ObjectId], &quot;color&quot;: &quot;hsla(147,50%,70%,1)&quot;, &quot;desc&quot;: &quot;ç‰¹åˆ«èƒ½åƒç‰¹åˆ«èƒ½åƒ&quot;, &quot;manufacturer&quot;: [Array], &quot;name&quot;: &quot;æš´é£ŸII&quot;, &quot;type&quot;: &quot;ç‰¹é•¿&quot;}, {&quot;_id&quot;: [ObjectId], &quot;color&quot;: &quot;hsla(304,50%,70%,1)&quot;, &quot;desc&quot;: &quot;è¿™åªæ˜¯ä¸€ä¸ªç§°å·&quot;, &quot;manufacturer&quot;: [Array], &quot;name&quot;: &quot;çŒªçŒª1å·&quot;, &quot;type&quot;: &quot;ç§°å·&quot;}, {&quot;_id&quot;: [ObjectId], &quot;color&quot;: &quot;hsla(127,50%,70%,1)&quot;, &quot;desc&quot;: &quot;ç‰¹åˆ«èƒ½åƒç‰¹åˆ«èƒ½åƒç‰¹åˆ«èƒ½åƒ&quot;, &quot;manufacturer&quot;: [Array], &quot;name&quot;: &quot;æš´é£ŸIII&quot;, &quot;type&quot;: &quot;ç‰¹é•¿&quot;}] LOG collectionTags LOG [{&quot;_id&quot;: [ObjectId], &quot;color&quot;: &quot;hsla(87,50%,70%,1)&quot;, &quot;desc&quot;: &quot;çŒªçš®å¤Ÿåšï¼Œèƒ½æŒ¨æ&quot;, &quot;manufacturer&quot;: [Array], &quot;name&quot;: &quot;æ‰›æ&quot;, &quot;type&quot;: &quot;ç‰¹é•¿&quot;}, {&quot;_id&quot;: [ObjectId], &quot;color&quot;: &quot;hsla(4,50%,70%,1)&quot;, &quot;desc&quot;: &quot;ç‰¹åˆ«èƒ½ç¡ï¼Œåƒå®Œå°±ç¡&quot;, &quot;manufacturer&quot;: [Array], &quot;name&quot;: &quot;å—œç¡&quot;, &quot;type&quot;: &quot;ç‰¹é•¿&quot;}, {&quot;_id&quot;: [ObjectId], &quot;color&quot;: &quot;hsla(106,50%,70%,1)&quot;, &quot;desc&quot;: &quot;èƒ½è¿›åŒ–æˆå¤©è“¬å°çŒª&quot;, &quot;manufacturer&quot;: [Array], &quot;name&quot;: &quot;èƒ½è¿›åŒ–&quot;, &quot;type&quot;: &quot;å¯èƒ½æ€§&quot;}, {&quot;_id&quot;: [ObjectId], &quot;color&quot;: &quot;hsla(147,50%,70%,1)&quot;, &quot;desc&quot;: &quot;ç‰¹åˆ«èƒ½åƒç‰¹åˆ«èƒ½åƒ&quot;, &quot;manufacturer&quot;: [Array], &quot;name&quot;: &quot;æš´é£ŸII&quot;, &quot;type&quot;: &quot;ç‰¹é•¿&quot;}, {&quot;_id&quot;: [ObjectId], &quot;color&quot;: &quot;hsla(304,50%,70%,1)&quot;, &quot;desc&quot;: &quot;è¿™åªæ˜¯ä¸€ä¸ªç§°å·&quot;, &quot;manufacturer&quot;: [Array], &quot;name&quot;: &quot;çŒªçŒª1å·&quot;, &quot;type&quot;: &quot;ç§°å·&quot;}, {&quot;_id&quot;: [ObjectId], &quot;color&quot;: &quot;hsla(127,50%,70%,1)&quot;, &quot;desc&quot;: &quot;ç‰¹åˆ«èƒ½åƒç‰¹åˆ«èƒ½åƒç‰¹åˆ«èƒ½åƒ&quot;, &quot;manufacturer&quot;: [Array], &quot;name&quot;: &quot;æš´é£ŸIII&quot;, &quot;type&quot;: &quot;ç‰¹é•¿&quot;}] é—®é¢˜äºŒ æ€ä¹ˆæ‰¾åˆ°realmçš„æ–‡ä»¶ Andriod: é¦–å…ˆç”¨ Andriod Stadio æ¥æ‰“å¼€ï¼Œå¹¶å¯åŠ¨æ–‡ä»¶: expo prebuild ç”Ÿæˆ andriod å’Œ ios æ–‡ä»¶å¤¹ å®‰è£… gradle : brew install gradleã€‚ æ³¨æ„ï¼š å¦‚æœä½ åœ¨æ–‡ä»¶å¤¹ Andriod ä¸‹æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œå®ƒä¼šé¡ºæ‰‹å¸®ä½ å°†è¯¥æ–‡ä»¶å¤¹ä¸‹é¢çš„ä¾èµ–å®‰è£…å¥½ï¼Œä¼šèŠ±ä¸€å®šçš„æ—¶é—´ã€‚ ç”¨Andriod Stadioæ‰“å¼€ andriod æ–‡ä»¶å¤¹ã€‚ åœ¨ Andriod Stadio &gt; viwe &gt; Tool Windows &gt; Deveice Explorer ä¸­ï¼Œæ‰¾åˆ° realm.path å¯¹åº”çš„ .ream æ–‡ä»¶ï¼ŒåŒå‡»/å³é”®é¼ æ ‡å¯¹åº”æ–‡ä»¶ &gt; save as ... ä¿å­˜å¥½æ–‡ä»¶ ç”¨ Realm Stadio æ‰“å¼€å¯¹åº”æ–‡ä»¶ IOSï¼š ç›´æ¥ç”¨ RealmStadioæ‰“å¼€ realm.path å¯¹åº”çš„ .ream æ–‡ä»¶å°±è¡Œäº†ã€‚ ","link":"https://DennyWanye.GitHub.io/post/zai-expo-xiang-mu-zhong-shi-yong-realm/"},{"title":"React å°è£…å¼¹çª—ç»„å»º","content":"å°è£…ä¸€ä¸ªå¼¹çª—è¾“å…¥ï¼Œè¾“å‡ºç»„ä»¶ï¼š éœ€è¦æ³¨æ„çš„ç‚¹ï¼š â€œReact.createElementâ€æœ€å¤šå¯æä¾›â€œ2â€ä¸ªï¼Œä¿®æ”¹ç»„ä»¶æ¥å—å¯¹è±¡ props ä¸ºå…¥å‚ã€‚ å› ä¸ºæ— æ³•åˆ©ç”¨æ•°ç»„æ¥è°ƒåŠ¨ useStateï¼Œæ‰€ä»¥è¡¨æ ¼çš„åŒå‘ç»‘å®šçš„æ•°æ®å’Œä¿®æ”¹æ–¹æ³•æ˜¯ä»çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„ã€‚ å¦‚ä¸‹æ˜¯ä»£ç ï¼š import { Portal, TextInput, Text, Modal } from 'react-native-paper'; import { StyleSheet, SafeAreaView } from 'react-native'; import { ReactNode } from 'react'; type formItems = { label: string, value: string, setValue: Function, } interface PropsTagEditor { title: string, visible: boolean, formItems: Array&lt;formItems&gt;, submitFun: Function } export default function UseEditTag(Props: PropsTagEditor): ReactNode { const { title, visible, formItems, submitFun } = Props const containerStyle = { backgroundColor: 'white', padding: 20 }; return (&lt;Portal&gt; &lt;Modal visible={visible} onDismiss={() =&gt; submitFun()} contentContainerStyle={containerStyle}&gt; &lt;SafeAreaView&gt; &lt;Text&gt;{title}&lt;/Text&gt; { formItems.map((item, index) =&gt; { return ( &lt;TextInput key={index} label={item.label} value={item.value} onChangeText={text =&gt; item.setValue(text)} mode=&quot;outlined&quot; style={styles.tagInput} /&gt; ) }) } &lt;/SafeAreaView&gt; &lt;/Modal&gt; &lt;/Portal&gt;) } const styles = StyleSheet.create({ tagInput: { marginTop: 10, }, }); ","link":"https://DennyWanye.GitHub.io/post/react-feng-zhuang-dan-chuang-zu-jian/"},{"title":"react native å’Œ Expo æ¡†æ¶çš„ä½¿ç”¨é‡åˆ°çš„é—®é¢˜","content":"é—®é¢˜ä¸€ï¼šCommandError: Required property 'android.package' is not found in the project app.json. This is required to open the app. åŸå› åœ¨ package.json ä¸­ç¼ºå°‘ android.package å­—æ®µï¼Œå¯ä»¥åœ¨package.jsonæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹å±æ€§ï¼š &quot;android&quot;: { &quot;package&quot;: &quot;com.yourcompany.yourappname&quot;, &quot;versionCode&quot;: 1 } é—®é¢˜äºŒï¼šå…³äº expo-image-picker çš„ä½¿ç”¨æ–¹æ³•ï¼š import * as ImagePicker from 'expo-image-picker'; //åˆ©ç”¨ launchImageLibraryAsync æ–¹æ³•æ¥è¿”å›ä¸€ä¸ª uri èµ„æºï¼Œè®© &lt;Image&gt;æ¥è¿›è¡Œæ˜¾ç¤ºã€‚ //å…¶launchImageLibraryAsync() æ¥æ”¶ä¸€ä¸ªæŒ‡å®šäº†ä¸åŒé€‰é¡¹çš„å¯¹è±¡ã€‚è¯¥å¯¹è±¡æ˜¯ ImagePickerOptions //objectã€‚æˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨æ–¹æ³•æ—¶ä¼ é€’å¯¹è±¡æ¥æŒ‡å®šä¸åŒçš„é€‰é¡¹ã€‚ //å½“ allowsEditing è®¾ç½®ä¸º true æ—¶ï¼Œç”¨æˆ·å¯ä»¥åœ¨ Android å’Œ iOS ä¸Šçš„é€‰æ‹©è¿‡ç¨‹ä¸­è£å‰ªå›¾ç‰‡ï¼Œä½†ä¸èƒ½ //åœ¨ Web ä¸Šè£å‰ªå›¾ç‰‡ã€‚ const pickImageAsync = async () =&gt; { let result = await ImagePicker.launchImageLibraryAsync({ allowsEditing: true, quality: 1, }) console.log(result) if(!result.canceled) { setSelectImage(result.assets[0].uri) console.log(result); } else { alert('You did not select any image.'); } } //&lt;Image&gt; ä¸­çš„ source å¯ä»¥æ˜¯ å›¾ç‰‡çš„ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯urlï¼Œä¹Ÿå¯ä»¥æ˜¯ uri &lt;Image source={imageSource} &gt;&lt;/Image&gt; //ä¸ºäº†æ¼”ç¤º result å¯¹è±¡åŒ…å«å“ªäº›å±æ€§ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç»“æœå¯¹è±¡ç¤ºä¾‹ï¼š { &quot;assets&quot;: [ { &quot;assetId&quot;: null, &quot;base64&quot;: null, &quot;duration&quot;: null, &quot;exif&quot;: null, &quot;height&quot;: 4800, &quot;rotation&quot;: null, &quot;type&quot;: &quot;image&quot;, &quot;uri&quot;: &quot;file:///data/user/0/host.exp.exponent/cache/ExperienceData/%username%252Fsticker-smash-47-beta/ImagePicker/77c4e56f-4ccc-4c83-8634-fc376597b6fb.jpeg&quot;, &quot;width&quot;: 3200 } ], &quot;canceled&quot;: false } é—®é¢˜ä¸‰ï¼šæ„å»ºé¡¹ç›®çš„é—®é¢˜ ç°åœ¨å¯¹äºexpoé¡¹ç›®æ„å»ºçš„ç†è§£ï¼š æœ¬åœ°å°†ä»£ç  ä¸Šä¼ åˆ° äº‘ç«¯ï¼Œå¹¶ç»™å‡ºå¯¹åº”çš„é…ç½® äº‘ç«¯åˆ©ç”¨metroæ¥æ ¹æ®é…ç½®ï¼Œæ¥è¿›è¡Œæ„å»ºå¯¹åº”çš„ç‰ˆæœ¬ äº‘ç«¯è¿”å›å¯¹åº”ç‰ˆæœ¬åº”ç”¨çš„ä¸‹è½½é“¾æ¥ æ„å»ºdevelopment åº”ç”¨ eas --version //ç¡®ä¿ä½ å·²ç»ç™»å½•äº† eas whoami //ç”Ÿæˆeasé…ç½®,å¯ä»¥ç”Ÿæˆå¯¹åº”Androidå’Œioså¹³å°å¯¹åº”çš„é…ç½®æ–‡ä»¶ eas.jsonï¼Œæ­¤æ–‡ä»¶ç”Ÿæˆåœ¨é¡¹ç›®æ ¹ç›®å½•ã€‚ eas init eas build:configure //ç”Ÿæˆå¯ä»¥é“¾æ¥åˆ°æœ¬åœ°æµ‹è¯•æœåŠ¡å™¨çš„ expoå®‰è£…åŒ… //éœ€è¦åœ¨é¡¹ç›®ç›®å½•å®‰è£… expo-dev-client åŒæ—¶ï¼Œä½ éœ€è¦expoçš„è´¦æˆ·ç”¨ä½œè¿œç¨‹ç™»å½• //å¹¶ä¸” ä¹Ÿéœ€è¦åœ¨å…¨å±€å®‰è£…eas-cli npm install expo-dev-client npm install -g eas-cli eas build --profile=development --platform=android //ç”Ÿæˆå¯ä»¥ç›´æ¥å¯ä»¥å®‰è£…æ‰“å¼€çš„å®‰è£…åŒ…ï¼Œæ²¡æœ‰æµ‹è¯•ç¯å¢ƒ eas build --profile=preview --platform=android åœ¨æœ¬åœ°æ‰“åŒ…ï¼š å¦‚æœä½ çš„ç”µè„‘å·²ç»é…ç½®å¥½äº†javaã€NDKç¯å¢ƒï¼Œåªéœ€æ‰§è¡Œ eas build --platform android --profile release --local æŠ¥äº†releaseç›¸å…³çš„é”™è¯¯ï¼Œè¯·æ£€æŸ¥eas.jsonæ–‡ä»¶ä¸­ --&gt; build --&gt; releaseçš„è®¾ç½®é—®é¢˜ error ç¤ºä¾‹: â˜… eas-cli@10.1.0 is now available. To upgrade, run npm install -g eas-cli. Proceeding with outdated version. Missing build profile in eas.json: release Error: build command failed. eas.jsonæ–‡ä»¶ç¤ºä¾‹ï¼š { &quot;cli&quot;: { &quot;version&quot;: &quot;&gt;= 10.0.3&quot; }, &quot;build&quot;: { &quot;development&quot;: { &quot;developmentClient&quot;: true, &quot;distribution&quot;: &quot;internal&quot; }, &quot;preview&quot;: { &quot;distribution&quot;: &quot;internal&quot; }, &quot;production&quot;: {}, &quot;release&quot;: { &quot;android&quot;: { &quot;buildType&quot;: &quot;apk&quot; } } }, &quot;submit&quot;: { &quot;production&quot;: {} } } æœ‰ç”¨çš„æ–‡ç« é“¾æ¥ï¼šhttps://juejin.cn/post/7357292176945184795 é—®é¢˜4: Authentication is required è¿è¡Œ npx expo run:android æŠ¥é”™ Authentication is required âœ– Failed to create the native project. You may want to delete the `./ios` and/or `./android` directories before trying again. è§£å†³æ–¹æ³•ï¼š å…¨å±€å®‰è£… expoè„šæ‰‹æ¶ï¼š npm install -g expo-cli è¿è¡Œ expo whoami ç¡®è®¤æ˜¯å¦æ˜¯ç™»å½•çš„çŠ¶æ€ è¿è¡Œ ``expo prebuild` link: https://stackoverflow.com/questions/77760368/authentication-required-error-message-when-running-npx-expo-prebuild-in-term é—®é¢˜5: expo ApiV2Error: Entity Not Authorized. åŸå› ï¼šthe problem was that the owner property in app.json did not match the owner for whatever account you're logged into on expo-cli or your expo go app. So just try to check if owner property is correct. è§£å†³ï¼š npx expo start --offline ","link":"https://DennyWanye.GitHub.io/post/react-native-he-expo-kuang-jia-de-shi-yong-yu-dao-de-wen-ti/"},{"title":"æ€ä¹ˆæ ·ä½¿ç”¨Tagæ ‡ç­¾","content":"For work, need to use tag in git to mark a version, so that jenkins can deploy it. åˆ›å»ºå¹¶æ¨é€ä¸€ä¸ªå¸¦å¤‡æ³¨çš„æ ‡ç­¾tagï¼š git tag -a TagName -m â€˜useful infoâ€™ git push origin TagName åˆ›å»ºè½»é‡çº§æ ‡ç­¾ï¼ˆä¸å¸¦å¤‡æ³¨ï¼‰ï¼š git tag TagName æœç´¢tagï¼š git tag -l â€˜æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼â€™ åˆ é™¤æœ¬åœ°tagï¼š git tag -d TagName åˆ é™¤è¿œç¨‹çš„tagï¼š git push origin -d tag TagName git push origin --delete tag TagName ","link":"https://DennyWanye.GitHub.io/post/how-to-use-tag-in-git/"},{"title":"javascriptä¸­ New çš„åº•å±‚å®ç°åŸç†","content":"new çš„ä½œç”¨ï¼Œå°±æ˜¯çœé‚£ä¹ˆå‡ è¡Œä»£ç ã€‚ï¼ˆä¹Ÿå°±æ˜¯æ‰€è°“çš„ï¼‰ã€‚ ï¼ˆ1ï¼‰æ–°å»ºä¸€ä¸ªå¯¹è±¡ ï¼ˆ2ï¼‰è®¾ç½®åŸå‹é“¾ ï¼ˆ3ï¼‰è®©Fä¸­çš„thisæŒ‡å‘instanceï¼Œæ‰§è¡ŒFçš„å‡½æ•°ä½“ã€‚ ï¼ˆ4ï¼‰åˆ¤æ–­Fçš„è¿”å›å€¼ç±»å‹ï¼š å¦‚æœæ˜¯å€¼ç±»å‹ï¼Œå°±ä¸¢å¼ƒå®ƒï¼Œè¿˜æ˜¯è¿”å›instanceã€‚ å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œå°±è¿”å›è¿™ä¸ªå¼•ç”¨ç±»å‹çš„å¯¹è±¡ï¼Œæ›¿æ¢æ‰instanceã€‚ function create(Con, ...args){ // åˆ›å»ºä¸€ä¸ªç©ºçš„å¯¹è±¡ this.obj = {}; // å°†ç©ºå¯¹è±¡æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹é“¾ Object.setPrototypeOf(this.obj, Con.prototype); // objç»‘å®šåˆ°æ„é€ å‡½æ•°ä¸Šï¼Œä¾¿å¯ä»¥è®¿é—®æ„é€ å‡½æ•°ä¸­çš„å±æ€§ï¼Œå³this.obj.Con(args) let result = Con.apply(this.obj, args); // å¦‚æœè¿”å›çš„resultæ˜¯ä¸€ä¸ªå¯¹è±¡åˆ™è¿”å› // newæ–¹æ³•å¤±æ•ˆï¼Œå¦åˆ™è¿”å› obj return result instanceof Object ? result : this.obj; } 1.æ€»è§ˆ å›¾çš„è¯´æ˜ï¼šå³ä¸‹è§’ä¸ºå›¾ä¾‹ï¼Œçº¢è‰²ç®­å¤´è¡¨ç¤º__proto__å±æ€§æŒ‡å‘ã€ç»¿è‰²ç®­å¤´è¡¨ç¤ºprototypeå±æ€§çš„æŒ‡å‘ã€æ£•è‰²å®çº¿ç®­å¤´è¡¨ç¤ºæœ¬èº«å…·æœ‰çš„constructorå±æ€§çš„æŒ‡å‘ï¼Œæ£•è‰²è™šçº¿ç®­å¤´è¡¨ç¤ºç»§æ‰¿è€Œæ¥çš„constructorå±æ€§çš„æŒ‡å‘ï¼›è“è‰²æ–¹å—è¡¨ç¤ºå¯¹è±¡ï¼Œæµ…ç»¿è‰²æ–¹å—è¡¨ç¤ºå‡½æ•°ï¼ˆè¿™é‡Œä¸ºäº†æ›´å¥½çœ‹æ¸…ï¼ŒFoo()ä»…ä»£è¡¨æ˜¯å‡½æ•°ï¼Œå¹¶ä¸æ˜¯æŒ‡æ‰§è¡Œå‡½æ•°Fooåå¾—åˆ°çš„ç»“æœï¼Œå›¾ä¸­çš„å…¶ä»–å‡½æ•°åŒç†ï¼‰ã€‚å›¾çš„ä¸­é—´éƒ¨åˆ†å³ä¸ºå®ƒä»¬ä¹‹é—´çš„è”ç³»ï¼Œå›¾çš„æœ€å·¦è¾¹å³ä¸ºä¾‹å­ä»£ç  2.__proto__å±æ€§ é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç‰¢è®°ä¸¤ç‚¹ï¼šâ‘ __proto__å’Œconstructorå±æ€§æ˜¯å¯¹è±¡æ‰€ç‹¬æœ‰çš„ï¼›â‘¡ prototypeå±æ€§æ˜¯å‡½æ•°æ‰€ç‹¬æœ‰çš„ã€‚ä½†æ˜¯ç”±äºJSä¸­å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§å¯¹è±¡ï¼Œæ‰€ä»¥å‡½æ•°ä¹Ÿæ‹¥æœ‰__proto__å’Œconstructorå±æ€§ï¼Œè¿™ç‚¹æ˜¯è‡´ä½¿æˆ‘ä»¬äº§ç”Ÿå›°æƒ‘çš„å¾ˆå¤§åŸå› ä¹‹ä¸€ã€‚ ç¬¬ä¸€ï¼Œè¿™é‡Œæˆ‘ä»¬ä»…ç•™ä¸‹ proto å±æ€§ï¼Œå®ƒæ˜¯å¯¹è±¡æ‰€ç‹¬æœ‰çš„ï¼Œå¯ä»¥çœ‹åˆ°__proto__å±æ€§éƒ½æ˜¯ç”±ä¸€ä¸ªå¯¹è±¡æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œå³æŒ‡å‘å®ƒä»¬çš„åŸå‹å¯¹è±¡ï¼ˆä¹Ÿå¯ä»¥ç†è§£ä¸ºçˆ¶å¯¹è±¡ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå±æ€§çš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒçš„ä½œç”¨å°±æ˜¯å½“è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœè¯¥å¯¹è±¡å†…éƒ¨ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå°±ä¼šå»å®ƒçš„__proto__å±æ€§æ‰€æŒ‡å‘çš„é‚£ä¸ªå¯¹è±¡ï¼ˆå¯ä»¥ç†è§£ä¸ºçˆ¶å¯¹è±¡ï¼‰é‡Œæ‰¾ï¼Œå¦‚æœçˆ¶å¯¹è±¡ä¹Ÿä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œåˆ™ç»§ç»­å¾€çˆ¶å¯¹è±¡çš„__proto__å±æ€§æ‰€æŒ‡å‘çš„é‚£ä¸ªå¯¹è±¡ï¼ˆå¯ä»¥ç†è§£ä¸ºçˆ·çˆ·å¯¹è±¡ï¼‰é‡Œæ‰¾ï¼Œå¦‚æœè¿˜æ²¡æ‰¾åˆ°ï¼Œåˆ™ç»§ç»­å¾€ä¸Šæ‰¾â€¦ç›´åˆ°åŸå‹é“¾é¡¶ç«¯nullï¼ˆå¯ä»¥ç†è§£ä¸ºåŸå§‹äººã€‚ã€‚ã€‚ï¼‰ï¼Œå†å¾€ä¸Šæ‰¾å°±ç›¸å½“äºåœ¨nullä¸Šå–å€¼ï¼Œä¼šæŠ¥é”™ï¼ˆå¯ä»¥ç†è§£ä¸ºï¼Œå†å¾€ä¸Šå°±å·²ç»ä¸æ˜¯â€œäººâ€çš„èŒƒç•´äº†ï¼Œæ‰¾ä¸åˆ°äº†ï¼Œåˆ°æ­¤ç»“æŸï¼Œnullä¸ºåŸå‹é“¾çš„ç»ˆç‚¹ï¼‰ï¼Œç”±ä»¥ä¸Šè¿™ç§é€šè¿‡__proto__å±æ€§æ¥è¿æ¥å¯¹è±¡ç›´åˆ°nullçš„ä¸€æ¡é“¾å³ä¸ºæˆ‘ä»¬æ‰€è°“çš„åŸå‹é“¾ã€‚ å…¶å®æˆ‘ä»¬å¹³æ—¶è°ƒç”¨çš„å­—ç¬¦ä¸²æ–¹æ³•ã€æ•°ç»„æ–¹æ³•ã€å¯¹è±¡æ–¹æ³•ã€å‡½æ•°æ–¹æ³•ç­‰éƒ½æ˜¯é __proto__ç»§æ‰¿è€Œæ¥çš„ã€‚ 3. prototypeå±æ€§ prototypeå±æ€§ï¼Œåˆ«å¿˜äº†ä¸€ç‚¹ï¼Œå°±æ˜¯æˆ‘ä»¬å‰é¢æåˆ°è¦ç‰¢è®°çš„ä¸¤ç‚¹ä¸­çš„ç¬¬äºŒç‚¹ï¼Œå®ƒæ˜¯å‡½æ•°æ‰€ç‹¬æœ‰çš„ï¼Œå®ƒæ˜¯ä»ä¸€ä¸ªå‡½æ•°æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚å®ƒçš„å«ä¹‰æ˜¯å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªå‡½æ•°ï¼ˆå…¶å®æ‰€æœ‰å‡½æ•°éƒ½å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•°ï¼‰æ‰€åˆ›å»ºçš„å®ä¾‹çš„åŸå‹å¯¹è±¡ï¼Œç”±æ­¤å¯çŸ¥ï¼šf1.proto === Foo.prototypeï¼Œå®ƒä»¬ä¸¤ä¸ªå®Œå…¨ä¸€æ ·ã€‚é‚£prototypeå±æ€§çš„ä½œç”¨åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒçš„ä½œç”¨å°±æ˜¯åŒ…å«å¯ä»¥ç”±ç‰¹å®šç±»å‹çš„æ‰€æœ‰å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è®©è¯¥å‡½æ•°æ‰€å®ä¾‹åŒ–çš„å¯¹è±¡ä»¬éƒ½å¯ä»¥æ‰¾åˆ°å…¬ç”¨çš„å±æ€§å’Œæ–¹æ³•ã€‚ä»»ä½•å‡½æ•°åœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œå…¶å®ä¼šé»˜è®¤åŒæ—¶åˆ›å»ºè¯¥å‡½æ•°çš„prototypeå¯¹è±¡ã€‚ 4. constructorå±æ€§ constructorå±æ€§ä¹Ÿæ˜¯å¯¹è±¡æ‰æ‹¥æœ‰çš„ï¼Œå®ƒæ˜¯ä»ä¸€ä¸ªå¯¹è±¡æŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå«ä¹‰å°±æ˜¯æŒ‡å‘è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰æ„é€ å‡½æ•°ï¼ˆæœ¬èº«æ‹¥æœ‰æˆ–ç»§æ‰¿è€Œæ¥ï¼Œç»§æ‰¿è€Œæ¥çš„è¦ç»“åˆ__proto__å±æ€§æŸ¥çœ‹ä¼šæ›´æ¸…æ¥šç‚¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ï¼Œä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹å‡ºFunctionè¿™ä¸ªå¯¹è±¡æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒçš„æ„é€ å‡½æ•°å°±æ˜¯å®ƒè‡ªå·±ï¼ˆå› ä¸ºFunctionå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼‰ï¼Œæ‰€æœ‰å‡½æ•°å’Œå¯¹è±¡æœ€ç»ˆéƒ½æ˜¯ç”±Functionæ„é€ å‡½æ•°å¾—æ¥ï¼Œæ‰€ä»¥constructorå±æ€§çš„ç»ˆç‚¹å°±æ˜¯Functionè¿™ä¸ªå‡½æ•°ã€‚ è¿™é‡Œè§£é‡Šä¸€ä¸‹ä¸Šæ®µä¸­â€œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰æ„é€ å‡½æ•°â€è¿™å¥è¯ã€‚è¿™é‡Œçš„æ„æ€æ˜¯æ¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥æ‰¾åˆ°å…¶å¯¹åº”çš„constructorï¼Œå› ä¸ºåˆ›å»ºå¯¹è±¡çš„å‰ææ˜¯éœ€è¦æœ‰constructorï¼Œè€Œè¿™ä¸ªconstructorå¯èƒ½æ˜¯å¯¹è±¡è‡ªå·±æœ¬èº«æ˜¾å¼å®šä¹‰çš„æˆ–è€…é€šè¿‡__proto__åœ¨åŸå‹é“¾ä¸­æ‰¾åˆ°çš„ã€‚è€Œå•ä»constructorè¿™ä¸ªå±æ€§æ¥è®²ï¼Œåªæœ‰prototypeå¯¹è±¡æ‰æœ‰ã€‚æ¯ä¸ªå‡½æ•°åœ¨åˆ›å»ºçš„æ—¶å€™ï¼ŒJSä¼šåŒæ—¶åˆ›å»ºä¸€ä¸ªè¯¥å‡½æ•°å¯¹åº”çš„prototypeå¯¹è±¡ï¼Œè€Œå‡½æ•°åˆ›å»ºçš„å¯¹è±¡.__proto__ === è¯¥å‡½æ•°.prototypeï¼Œè¯¥å‡½æ•°.prototype.constructor===è¯¥å‡½æ•°æœ¬èº«ï¼Œæ•…é€šè¿‡å‡½æ•°åˆ›å»ºçš„å¯¹è±¡å³ä½¿è‡ªå·±æ²¡æœ‰constructorå±æ€§ï¼Œå®ƒä¹Ÿèƒ½é€šè¿‡__proto__æ‰¾åˆ°å¯¹åº”çš„constructorï¼Œæ‰€ä»¥ä»»ä½•å¯¹è±¡æœ€ç»ˆéƒ½å¯ä»¥æ‰¾åˆ°å…¶æ„é€ å‡½æ•°ï¼ˆnullå¦‚æœå½“æˆå¯¹è±¡çš„è¯ï¼Œå°†nullé™¤å¤–ï¼‰ã€‚å¦‚ä¸‹ï¼š 5. æ€»ç»“ æ€»ç»“ä¸€ä¸‹ï¼š æˆ‘ä»¬éœ€è¦ç‰¢è®°ä¸¤ç‚¹ï¼šâ‘ __proto__å’Œconstructorå±æ€§æ˜¯å¯¹è±¡æ‰€ç‹¬æœ‰çš„ï¼›â‘¡ prototypeå±æ€§æ˜¯å‡½æ•°æ‰€ç‹¬æœ‰çš„ï¼Œå› ä¸ºå‡½æ•°ä¹Ÿæ˜¯ä¸€ç§å¯¹è±¡ï¼Œæ‰€ä»¥å‡½æ•°ä¹Ÿæ‹¥æœ‰__proto__å’Œconstructorå±æ€§ã€‚ __proto__å±æ€§çš„ä½œç”¨å°±æ˜¯å½“è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœè¯¥å¯¹è±¡å†…éƒ¨ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå°±ä¼šå»å®ƒçš„__proto__å±æ€§æ‰€æŒ‡å‘çš„é‚£ä¸ªå¯¹è±¡ï¼ˆçˆ¶å¯¹è±¡ï¼‰é‡Œæ‰¾ï¼Œä¸€ç›´æ‰¾ï¼Œç›´åˆ°__proto__å±æ€§çš„ç»ˆç‚¹nullï¼Œå†å¾€ä¸Šæ‰¾å°±ç›¸å½“äºåœ¨nullä¸Šå–å€¼ï¼Œä¼šæŠ¥é”™ã€‚é€šè¿‡__proto__å±æ€§å°†å¯¹è±¡è¿æ¥èµ·æ¥çš„è¿™æ¡é“¾è·¯å³æˆ‘ä»¬æ‰€è°“çš„åŸå‹é“¾ã€‚ prototypeå±æ€§çš„ä½œç”¨å°±æ˜¯è®©è¯¥å‡½æ•°æ‰€å®ä¾‹åŒ–çš„å¯¹è±¡ä»¬éƒ½å¯ä»¥æ‰¾åˆ°å…¬ç”¨çš„å±æ€§å’Œæ–¹æ³•ï¼Œå³f1.proto === Foo.prototypeã€‚ constructorå±æ€§çš„å«ä¹‰å°±æ˜¯æŒ‡å‘è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œæ‰€æœ‰å‡½æ•°ï¼ˆæ­¤æ—¶çœ‹æˆå¯¹è±¡äº†ï¼‰æœ€ç»ˆçš„æ„é€ å‡½æ•°éƒ½æŒ‡å‘Functionã€‚ æœ¬æ–‡å°±æ­¤ç»“æŸäº†ï¼Œå¸Œæœ›å¯¹é‚£äº›å¯¹JSä¸­çš„prototypeã€__proto__ä¸constructorå±æ€§æœ‰å›°æƒ‘çš„åŒå­¦æœ‰æ‰€å¸®åŠ©ã€‚ function inherit( Child, Parent ) { // ç»§æ‰¿åŸå‹ä¸Šçš„å±æ€§ Child.prototype = Object.create(Parent.prototype) // ä¿®å¤ constructor Child.prototype.constructor = Child // å­˜å‚¨è¶…ç±» Child.super = Parent // é™æ€å±æ€§ç»§æ‰¿ if (Object.setPrototypeOf){ // setPrototypeOf es6 Object.setPrototypeOf(Child, Parent) } else if (Child.__proto__) { // __proto__ es6 å¼•å…¥ï¼Œä½†æ˜¯éƒ¨åˆ†æµè§ˆå™¨æ—©å·²æ”¯æŒ Child.__proto__ = Parent } else { // å…¼å®¹ IE10 ç­‰é™ˆæ—§æµè§ˆå™¨ // å°† Parent ä¸Šçš„é™æ€å±æ€§å’Œæ–¹æ³•æ‹·è´ä¸€ä»½åˆ° Child ä¸Šï¼Œä¸ä¼šè¦†ç›– Child ä¸Šçš„æ–¹æ³• for (var k in parent) { if( Parent.hasOwnProperty(k) &amp;&amp; !(k in Child)) { Child[k] = Parent[k] } } } } å¾ˆå¥½çš„ä¸€ç¯‡è¯´æ˜æ–‡ç«  Javascriptç»§æ‰¿æœºåˆ¶çš„è®¾è®¡æ€æƒ³ ","link":"https://DennyWanye.GitHub.io/post/javascript-zhong-new-de-di-ceng-shi-xian-yuan-li/"},{"title":"jsçš„äº‹ä»¶å†’æ³¡å’Œæ•è·æœºåˆ¶","content":"æœ€è¿‘é¢è¯•æ€»æ˜¯è¢«é—®åˆ°è¿™ä¸ªé—®é¢˜ï¼Œç„¶åè‡ªå·±è®°æ€§ä¹Ÿä¸å¥½ï¼Œæ‰€ä»¥åšä¸€ä¸‹æ€»ç»“ï¼š äº‹ä»¶å†’æ³¡ï¼šç»“æ„ä¸Šï¼ˆéè§†è§‰ä¸Šï¼‰åµŒå¥—å…³ç³»çš„å…ƒç´ ï¼Œä¼šå­˜åœ¨å†’æ³¡çš„åŠŸèƒ½ï¼Œå³åŒä¸€äº‹ä»¶ï¼Œè‡ªå­å…ƒç´ å†’æ³¡å‘çˆ¶å…ƒç´ ã€‚ï¼ˆè‡ªåº•å‘ä¸Šï¼‰ äº‹ä»¶æ•è·ï¼šç»“æ„ä¸Šï¼ˆéè§†è§‰ä¸Šï¼‰åµŒå¥—å…³ç³»çš„å…ƒç´ ï¼Œä¼šå­˜åœ¨äº‹ä»¶æ•è·çš„åŠŸèƒ½ï¼Œå³åŒä¸€äº‹ä»¶ï¼Œè‡ªçˆ¶å…ƒç´ æ•è·è‡³å­å…ƒç´ ï¼ˆäº‹ä»¶æºå…ƒç´ ï¼‰ã€‚ï¼ˆè‡ªé¡¶å‘ä¸‹ï¼‰ï¼ˆieæ²¡æœ‰æ•è·äº‹ä»¶ï¼‰ è§¦å‘é¡ºåºï¼šå…ˆæ•è·ï¼Œåå†’æ³¡ focusï¼Œblurï¼Œchangeï¼Œsubmitï¼Œresetï¼Œselectç­‰äº‹ä»¶ä¸å†’æ³¡ addEventLinstener: ä¸‰ä¸ªå‚æ•°ï¼š å‚æ•°1ï¼š äº‹ä»¶çš„è§¦å‘æ–¹æ³• å‚æ•°2ï¼š äº‹ä»¶çš„è§¦å‘å‡½æ•° å‚æ•°3ï¼š æ˜¯å¦å†’æ³¡ï¼š falseä¸ºå†’æ³¡æ—¶è§¦å‘ï¼Œtrueä¸ºæ•è·æ—¶è§¦å‘ã€‚ é˜»æ­¢å†’æ³¡ï¼š 1ã€w3cæ ‡å‡† event.stopPropagation();ä½†ie9ä»¥ä¸‹ç‰ˆæœ¬ä¸æ”¯æŒ 2ã€ieç‹¬æœ‰ï¼ševent.cancelBubble = true; é€šç”¨çš„å†™æ³•ï¼š inner.addEventListener('click',function(e){ if (e.stopPropagation){ e.stopPropagation(); }else{ e.cancelBubble = true; } console.log('inner111') },false) é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼š é»˜è®¤äº‹ä»¶ â€”â€” è¡¨å•æäº¤ï¼Œaæ ‡ç­¾è·³è½¬ï¼Œå³é”®èœå•ç­‰ã€‚ 1ã€return false;ä»¥å¯¹è±¡å±æ€§çš„æ–¹å¼æ³¨å†Œçš„äº‹ä»¶æ‰ç”Ÿæ•ˆ 2ã€event.preventDefault();w3cæ ‡å‡†ï¼Œie9ä»¥ä¸‹ä¸å…¼å®¹ 3ã€event.returnValue = false;å…¼å®¹ie äº‹ä»¶å§”æ‰˜ åˆ©ç”¨äº‹ä»¶å†’æ³¡å’Œäº‹ä»¶æºå¯¹è±¡è¿›è¡Œå¤„ç† ä¼˜ç‚¹ï¼š 1ã€æ€§èƒ½ ä¸éœ€è¦å¾ªç¯æ‰€æœ‰çš„å…ƒç´ ä¸€ä¸ªä¸ªç»‘å®šäº‹ä»¶ 2ã€çµæ´» å½“æœ‰æ–°çš„å­å…ƒç´ æ—¶ä¸éœ€è¦é‡æ–°ç»‘å®šäº‹ä»¶ ","link":"https://DennyWanye.GitHub.io/post/js-de-shi-jian-mou-pao-he-bu-huo-ji-zhi/"},{"title":"React: Refs è½¬å‘/å›è°ƒ Refs","content":"ä¹‹å‰ä¸€ç›´ä¸ç†è§£å¦‚ä½•åœ¨Reactä¸­ï¼Œå°†ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶ä¹‹é—´è¿›è¡ŒRefè½¬å‘ã€‚ Refs è½¬å‘ ä»¥ä¸‹æ˜¯å¯¹ä¸Šè¿°ç¤ºä¾‹å‘ç”Ÿæƒ…å†µçš„é€æ­¥è§£é‡Šï¼š æˆ‘ä»¬é€šè¿‡è°ƒç”¨ React.createRef åˆ›å»ºäº†ä¸€ä¸ª React ref å¹¶å°†å…¶èµ‹å€¼ç»™ ref å˜é‡ã€‚ æˆ‘ä»¬é€šè¿‡æŒ‡å®š ref ä¸º JSX å±æ€§ï¼Œå°†å…¶å‘ä¸‹ä¼ é€’ç»™ ã€‚ React ä¼ é€’ ref ç»™ forwardRef å†…å‡½æ•° (props, ref) =&gt; ...ï¼Œä½œä¸ºå…¶ç¬¬äºŒä¸ªå‚æ•°ã€‚ æˆ‘ä»¬å‘ä¸‹è½¬å‘è¯¥ ref å‚æ•°åˆ° ï¼Œå°†å…¶æŒ‡å®šä¸º JSX å±æ€§ã€‚ å½“ ref æŒ‚è½½å®Œæˆï¼Œref.current å°†æŒ‡å‘ DOM èŠ‚ç‚¹ã€‚ ä»£ç ï¼š import React, {forwardRef, useEffect, Component, useRef} from 'react' function App() { //1. æˆ‘ä»¬é€šè¿‡è°ƒç”¨ React.createRef åˆ›å»ºäº†ä¸€ä¸ª React ref å¹¶å°†å…¶èµ‹å€¼ç»™ ref å˜é‡ã€‚ const BtnRef = useRef() //5. å½“ ref æŒ‚è½½å®Œæˆï¼Œref.current å°†æŒ‡å‘ &lt;button&gt; DOM èŠ‚ç‚¹ã€‚ console.log(BtnRef) return ( &lt;div className=&quot;App&quot;&gt; &lt;header className=&quot;App-header&quot;&gt; //2. æˆ‘ä»¬é€šè¿‡æŒ‡å®š ref ä¸º JSX å±æ€§ï¼Œå°†å…¶å‘ä¸‹ä¼ é€’ç»™ &lt;FancyButton ref={ref}&gt;ã€‚ &lt;FancyButton ref={BtnRef} children=&quot;æˆ‘æ˜¯ä¸€ä¸ªæŒ‰é’®&quot;&gt;&lt;/FancyButton&gt; &lt;/header&gt; &lt;/div&gt; ) } //3. React ä¼ é€’ ref ç»™ forwardRef å†…å‡½æ•° (props, ref) =&gt; ...ï¼Œä½œä¸ºå…¶ç¬¬äºŒä¸ªå‚æ•°ã€‚ const FancyButton = React.forwardRef((props, ref) =&gt; ( //4. æˆ‘ä»¬å‘ä¸‹è½¬å‘è¯¥ ref å‚æ•°åˆ° &lt;button ref={ref}&gt;ï¼Œå°†å…¶æŒ‡å®šä¸º JSX å±æ€§ã€‚ &lt;button ref={ref} className=&quot;FancyButton&quot;&gt; {props.children} &lt;/button&gt; )); //åœ¨ç±»ç»„ä»¶ä¸­ç”¨ React.createRef(); class App extends Component { constructor(props) { super(props); //1. æˆ‘ä»¬é€šè¿‡è°ƒç”¨ React.createRef åˆ›å»ºäº†ä¸€ä¸ª React ref å¹¶å°†å…¶èµ‹å€¼ç»™ ref å˜é‡ã€‚ this.BtnRef = React.createRef(); } componentDidMount() { // 5. å½“ ref æŒ‚è½½å®Œæˆï¼Œref.current å°†æŒ‡å‘ &lt;button&gt; DOM èŠ‚ç‚¹ã€‚ console.log(this.BtnRef) } render() { return ( &lt;div className=&quot;App&quot;&gt; &lt;header className=&quot;App-header&quot;&gt; //2. æˆ‘ä»¬é€šè¿‡æŒ‡å®š ref ä¸º JSX å±æ€§ï¼Œå°†å…¶å‘ä¸‹ä¼ é€’ç»™ &lt;FancyButton ref={ref}&gt;ã€‚ &lt;FancyButton ref={this.BtnRef} children=&quot;æˆ‘æ˜¯ä¸€ä¸ªæŒ‰é’®&quot;&gt;&lt;/FancyButton&gt; &lt;/header&gt; &lt;/div&gt; ) } } export default App å›è°ƒ Refs React ä¹Ÿæ”¯æŒå¦ä¸€ç§è®¾ç½® refs çš„æ–¹å¼ï¼Œç§°ä¸ºâ€œå›è°ƒ refsâ€ã€‚ ä¸åŒäºä¼ é€’ createRef() åˆ›å»ºçš„ ref å±æ€§ï¼Œä½ ä¼šä¼ é€’ä¸€ä¸ªå‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°ä¸­æ¥å— React ç»„ä»¶å®ä¾‹æˆ– HTML DOM å…ƒç´ ä½œä¸ºå‚æ•°ï¼Œä»¥ä½¿å®ƒä»¬èƒ½åœ¨å…¶ä»–åœ°æ–¹è¢«å­˜å‚¨å’Œè®¿é—®ã€‚ ç®€å•çš„æ¥è¯´ï¼Œå°±æ˜¯ä½ ä¼ é€’ä¸€ä¸ªå‡½æ•°åˆ° ref={callback} ä¸­ï¼Œcallbackå‡½æ•°çš„å‚æ•°å³ä¸ºå½“å‰refæ‰€åœ¨çš„DOMèŠ‚ç‚¹ã€‚ class CustomTextInput extends React.Component { constructor(props) { super(props); this.textInput = null; //å½“å‰å‚æ•°å°±æ˜¯ç›®æ ‡DOMå¯¹è±¡ this.setTextInputRef = element =&gt; { this.textInput = element; }; this.focusTextInput = () =&gt; { // ä½¿ç”¨åŸç”Ÿ DOM API ä½¿ text è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹ if (this.textInput) this.textInput.focus(); }; } componentDidMount() { // ç»„ä»¶æŒ‚è½½åï¼Œè®©æ–‡æœ¬æ¡†è‡ªåŠ¨è·å¾—ç„¦ç‚¹ this.focusTextInput(); } render() { // ä½¿ç”¨ `ref` çš„å›è°ƒå‡½æ•°å°† text è¾“å…¥æ¡† DOM èŠ‚ç‚¹çš„å¼•ç”¨å­˜å‚¨åˆ° React // å®ä¾‹ä¸Šï¼ˆæ¯”å¦‚ this.textInputï¼‰ return ( &lt;div&gt; &lt;input type=&quot;text&quot; ref={this.setTextInputRef} /&gt; &lt;input type=&quot;button&quot; value=&quot;Focus the text input&quot; onClick={this.focusTextInput} /&gt; &lt;/div&gt; ); } } å…³äºå›è°ƒ refs çš„è¯´æ˜ï¼šå¦‚æœ ref å›è°ƒå‡½æ•°æ˜¯ä»¥å†…è”å‡½æ•°çš„æ–¹å¼å®šä¹‰çš„ï¼Œåœ¨æ›´æ–°è¿‡ç¨‹ä¸­å®ƒä¼šè¢«æ‰§è¡Œä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡ä¼ å…¥å‚æ•° nullï¼Œç„¶åç¬¬äºŒæ¬¡ä¼šä¼ å…¥å‚æ•° DOM å…ƒç´ ã€‚è¿™æ˜¯å› ä¸ºåœ¨æ¯æ¬¡æ¸²æŸ“æ—¶ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°å®ä¾‹ï¼Œæ‰€ä»¥ React æ¸…ç©ºæ—§çš„ ref å¹¶ä¸”è®¾ç½®æ–°çš„ã€‚é€šè¿‡å°† ref çš„å›è°ƒå‡½æ•°å®šä¹‰æˆ class çš„ç»‘å®šå‡½æ•°çš„æ–¹å¼å¯ä»¥é¿å…ä¸Šè¿°é—®é¢˜ï¼Œä½†æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹å®ƒæ˜¯æ— å…³ç´§è¦çš„ã€‚ ","link":"https://DennyWanye.GitHub.io/post/react-refs-zhuan-fa/"},{"title":"Npxæ¦‚è¿°","content":"æœ€è¿‘é‡åˆ°äº† npx çš„å®‰è£…å‘½ä»¤ï¼Œå°±å¯¹å…¶èµ„æ–™è¿›è¡Œäº†æŸ¥æ‰¾é˜…è¯»ï¼Œä»¥ä¸‹æ˜¯æ€»ç»“ï¼š ä»€ä¹ˆæ—¶npxï¼Ÿ æ¦‚è¿°ï¼š npxæ˜¯ä¸€ä¸ªå·¥å…·ï¼Œå®ƒæ˜¯npm v5.2.0å¼•å…¥çš„ä¸€æ¡å‘½ä»¤ï¼ˆnpxï¼‰ï¼Œæ˜¯npmçš„ä¸€ä¸ªåŒ…æ‰§è¡Œå™¨ï¼Œå®ƒå¯ä»¥æé«˜ä»npmæ³¨å†Œè¡¨ä½¿ç”¨è½¯ä»¶åŒ…çš„ä½“éªŒ ã€‚ npmä½¿å¾—å®ƒéå¸¸å®¹æ˜“åœ°å®‰è£…å’Œç®¡ç†æ‰˜ç®¡åœ¨æ³¨å†Œè¡¨ä¸Šçš„ä¾èµ–é¡¹ï¼Œ npxä½¿å¾—ä½¿ç”¨CLIå·¥å…·å’Œå…¶ä»–æ‰˜ç®¡åœ¨æ³¨å†Œè¡¨ã€‚ å°±åƒnpmæå¤§åœ°æå‡äº†æˆ‘ä»¬å®‰è£…å’Œç®¡ç†åŒ…ä¾èµ–çš„ä½“éªŒï¼Œåœ¨npmçš„åŸºç¡€ä¹‹ä¸Šï¼Œnpxè®©npmåŒ…ä¸­çš„å‘½ä»¤è¡Œå·¥å…·å’Œå…¶ä»–å¯æ‰§è¡Œæ–‡ä»¶åœ¨ä½¿ç”¨ä¸Šå˜å¾—æ›´åŠ ç®€å•ã€‚å®ƒæå¤§åœ°ç®€åŒ–äº†æˆ‘ä»¬ä¹‹å‰ä½¿ç”¨çº¯ç²¹çš„npmæ—¶æ‰€éœ€è¦çš„å¤§é‡æ­¥éª¤ã€‚ å‚è€ƒé“¾æ¥ï¼šä½¿ç”¨ä»¥åŠåŸç† ","link":"https://DennyWanye.GitHub.io/post/npx-gai-shu/"},{"title":"React ç»„åˆ å’Œ Context","content":"ä¸€ã€ç»„åˆ å¯¹äºæœ‰äº›ç»„ä»¶ï¼ˆä¾‹å¦‚ï¼šAï¼‰æ— æ³•æå‰çŸ¥æ™“å®ƒä»¬å­ç»„ä»¶çš„å…·ä½“å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ä¸­ æ— æ³•çŸ¥æ™“çš„å†…å®¹ä½œä¸ºç”±å¤–éƒ¨ä¼ å…¥çš„å‚æ•°ï¼ˆä¾‹å¦‚ï¼šç»„ä»¶Bï¼‰ funciont ComponentC (props) { return &lt;ComponentA&gt;{props.componentB}&lt;/ComponentA&gt; } å¯¹äºä¸Šè¿°æƒ…å†µï¼Œå¯ä»¥ç§°ç»„ä»¶Cä¸ºç»„ä»¶Açš„ç‰¹æ®Šå®ä¾‹ã€‚ äºŒã€å¯¹äºContextçš„ä½¿ç”¨ Context è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å…±äº«é‚£äº›å¯¹äºä¸€ä¸ªç»„ä»¶æ ‘è€Œè¨€æ˜¯â€œå…¨å±€â€çš„æ•°æ®ï¼Œä¾‹å¦‚å½“å‰è®¤è¯çš„ç”¨æˆ·ã€ä¸»é¢˜æˆ–é¦–é€‰è¯­è¨€ã€‚ åŸºæœ¬ä½¿ç”¨ï¼šå‚è€ƒReactæ–‡æ¡£ å¦‚æœä½ åªæ˜¯æƒ³é¿å…å±‚å±‚ä¼ é€’ä¸€äº›å±æ€§ï¼Œç»„åˆï¼ˆå³ ä¸€ ï¼‰æœ‰æ—¶å€™æ˜¯ä¸€ä¸ªæ¯” context æ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚ React.createContext const MyContext = React.createContext(defaultValue); åˆ›å»ºä¸€ä¸ª Context å¯¹è±¡ã€‚å½“ React æ¸²æŸ“ä¸€ä¸ªè®¢é˜…äº†è¿™ä¸ª Context å¯¹è±¡çš„ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶ä¼šä»ç»„ä»¶æ ‘ä¸­ç¦»è‡ªèº«æœ€è¿‘çš„é‚£ä¸ªåŒ¹é…çš„ Provider ä¸­è¯»å–åˆ°å½“å‰çš„ context å€¼ã€‚ åªæœ‰å½“ç»„ä»¶æ‰€å¤„çš„æ ‘ä¸­æ²¡æœ‰åŒ¹é…åˆ° Provider æ—¶ï¼Œå…¶ defaultValue å‚æ•°æ‰ä¼šç”Ÿæ•ˆã€‚æ­¤é»˜è®¤å€¼æœ‰åŠ©äºåœ¨ä¸ä½¿ç”¨ Provider åŒ…è£…ç»„ä»¶çš„æƒ…å†µä¸‹å¯¹ç»„ä»¶è¿›è¡Œæµ‹è¯•ã€‚æ³¨æ„ï¼šå°† undefined ä¼ é€’ç»™ Provider çš„ value æ—¶ï¼Œæ¶ˆè´¹ç»„ä»¶çš„ defaultValue ä¸ä¼šç”Ÿæ•ˆã€‚ useContext Hook const value = useContext(MyContext); æ¥æ”¶ä¸€ä¸ª context å¯¹è±¡ï¼ˆReact.createContext çš„è¿”å›å€¼ï¼‰å¹¶è¿”å›è¯¥ context çš„å½“å‰å€¼ã€‚å½“å‰çš„ context å€¼ç”±ä¸Šå±‚ç»„ä»¶ä¸­è·ç¦»å½“å‰ç»„ä»¶æœ€è¿‘çš„ `` çš„ value prop å†³å®šã€‚ ","link":"https://DennyWanye.GitHub.io/post/react-zu-he/"},{"title":"react-helmetï¼šè§£å†³å•é¡µé¢åº”ç”¨SEOé—®é¢˜","content":" ä¸€ã€å•é¡µé¢SEOé—®é¢˜ å•é¡µåº”ç”¨ä¸€ç›´æœ‰ä¸€ä¸ªä»¤äººè¯Ÿç—…çš„é—®é¢˜å°±æ˜¯å°±æ˜¯å…¶å¯¹æœç´¢å¼•æ“ä¸å‹å¥½ã€‚ ç©¶å…¶åŸå› ï¼Œå°±æ˜¯å•é¡µåº”ç”¨æ ¸å¿ƒå°±æ˜¯ JavaScript åº”ç”¨ï¼Œè€Œä¸€èˆ¬çš„æœç´¢å¼•æ“éƒ½åªåœ¨ä¹ä½ é¡µé¢çš„ HTML è€Œå¯¹äºå…¶ä¸­çš„ JavaScript æ˜¯ä¸ä¼šæ‰§è¡Œçš„ã€‚ è™½ç„¶ Google æ›¾ç»è¡¨ç¤ºä¼šæŠ“å–å•é¡µåº”ç”¨ï¼ˆå¯¹ Ajax çš„ç»“æœè¿›è¡Œç¼“å­˜ï¼‰ï¼Œä½†æ˜¯ç°åœ¨å·²ç»è¡¨ç¤ºå·²ç»ä¸å†æ”¯æŒäº†ã€‚ åœ¨ Google ä¸­æœç´¢ Angular åº”ç”¨ï¼Œåªèƒ½æ˜¾ç¤ºä¸€ä¸ªå¯æ€œçš„æ ‡é¢˜(2017-6-15) éš¾é“å•é¡µåº”ç”¨å°±æ˜¯ä¸èƒ½å®ç° SEO å—ï¼Ÿå¹¶ä¸æ˜¯ï¼Œè¿˜æ˜¯å¯ä»¥é€šè¿‡ä¸€ç§åå« Server-side rendering ï¼ˆæœåŠ¡å™¨ç«¯é¢„æ¸²æŸ“ï¼‰çš„æ–¹å¼æ¥å®ç°çš„ã€‚ äºŒã€react-snapshot &amp; react-helmet æƒ³è°ƒç”¨ React çš„ Server-side Rendering çš„ API çš„è¯ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ react-snapshotã€‚ å®ƒå’Œ creat-react-appï¼ˆä¸€ä¸ªç±»ä¼¼ Angular Cli çš„å‘½ä»¤è¡Œå·¥å…·ï¼‰æ•´åˆå¾—å¾ˆå¥½ï¼Œåªéœ€è¦å°† render() æ›¿æ¢æˆ React-Snaport æä¾›çš„ render() å³å¯ã€‚å®ƒä¼šåœ¨ Developer Mode çš„æ—¶å€™è°ƒç”¨ Render.render() å’Œä¹‹å‰ä¸€æ ·ï¼›åœ¨ Production Mode çš„æ—¶å€™è°ƒç”¨ ReactDomServer.toSting()ã€‚ åœ¨è¿è¡Œ react-scripts build åå†è¿è¡Œ react-snapshotï¼Œå°±ä¼šå¼€å¯ä¸€ä¸ªçˆ¬è™«ï¼Œå°†æ‰€ä»¥çš„é¡µé¢éå†ä¸€éåï¼Œå¯¼å‡ºè‡³ HTMLã€‚ è¿è¡Œç»“æœï¼š ä½¿ç”¨ w3m è®¿é—® About é¡µé¢çš„ç»“æœï¼š åŒæ—¶ä¹Ÿä¿ç•™äº†å•é¡µåº”ç”¨ä¸éœ€è¦é‡å¤åŠ è½½çš„ä¼˜ç‚¹ï¼š åŸç†ï¼š åŸç†æ˜¯ä»€ä¹ˆï¼Ÿæ¯ä¸€ä¸ªå•é¡µåº”ç”¨éƒ½æœ‰ä¸€ä¸ª index.html ä½œä¸ºçš„å…¥å£ã€‚ è€Œä½¿ç”¨äº† react-snapshot ä¹‹åä½ çš„å•é¡µåº”ç”¨ç›¸å½“äºæœ‰äº†åŒæ—¶å¤šä¸ªä¸åŒå…¥å£ï¼Œæˆ–è€…è¯´ä½ åŒæ—¶æ‹¥æœ‰äº†å¤æ•°å¤šä¸ªåŠŸèƒ½ç›¸åŒçš„å•é¡µåº”ç”¨ã€‚ ç»“è®ºï¼š å¦‚æœè¯´ react-snapshot è®©ä½ çš„å•é¡µåº”ç”¨é‡Œçš„ body æ ‡ç­¾æœç´¢å¼•æ“å¯è§çš„è¯ï¼Œé‚£ react-helmet å°±å¯ä»¥è®©ä½ çš„å•é¡µåº”é‡Œçš„ head æ ‡ç­¾èƒ½è¢«æœç´¢å¼•æ“çˆ¬åˆ°äº†ã€‚ è€Œ head ä¸­çš„ meta æ ‡ç­¾æ›´æ˜¯ SEO çš„å…³é”®ä¹‹ä¸€ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬å¯ä»¥ä¸»åŠ¨ç»™çˆ¬è™«æä¾›é‡è¦çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æ–‡ç« çš„ä½œè€…ï¼Œå‘å¸ƒæ—¶é—´ç­‰ã€‚ Github åœ°å€ ä½¿ç”¨ä¾‹å­ ","link":"https://DennyWanye.GitHub.io/post/react-helmetjie-jue-dan-ye-mian-ying-yong-seo-wen-ti/"},{"title":"Tip","content":"ç”¨_idåœ¨MongoDBçš„compasså·¥å…·ä¸­æŸ¥è¯¢ï¼Œå¯¹åº”çš„æ•°æ® {&quot;_id&quot;: ObjectId(&quot;5afd7034608b2600280d0f29&quot;)} scss æ··åˆ @mixin center($widthCenter) { width: $widthCenter; margin: 0 auto; } @mixin flex($justify,$row:row,$align: none) { display: flex; flex-direction: $row; justify-content: $justify; @if $align != none { align-items: $align; } } æ»šåŠ¨æ¡é•¿åº¦ let scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop; inputä¿®æ”¹placeholder .xjp-login form .xjp-login-text input::-webkit-input-placeholder { font-size: .28rem; font-family: Arial; font-weight: bold; color: white; text-align: center; } .xjp-login form .xjp-login-text input::-moz-placeholder { /* Mozilla Firefox 19+ */ font-size: .28rem; font-family: Arial; font-weight: bold; color: white; text-align: center; } .xjp-login form .xjp-login-text input:-moz-placeholder { /* Mozilla Firefox 4 to 18 */ font-size: .28rem; font-family: Arial; font-weight: bold; color: white; text-align: center; } .xjp-login form .xjp-login-text input:-ms-input-placeholder { /* Internet Explorer 10-11 */ font-size: .28rem; font-family: Arial; font-weight: bold; color: white; text-align: center; } title &lt;title&gt;PerpetualStar&lt;/title&gt; è·å–urlå‚æ•° /* è·å–URLä¸­çš„å‚æ•° */ function getUrlParam(name) { let reg = new RegExp(&quot;(^|&amp;)&quot; + name + &quot;=([^&amp;]*)(&amp;|$)&quot;); //æ„é€ ä¸€ä¸ªå«æœ‰ç›®æ ‡å‚æ•°çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ let r = window.location.search.substr(1).match(reg); //åŒ¹é…ç›®æ ‡å‚æ•° if (r != null) return unescape(r[2]); return null; //è¿”å›å‚æ•°å€¼ } inputçš„å†…å®¹éªŒè¯ï¼ˆæ•°å­—ï¼Œé‚®ç®±ï¼‰ &lt;input type=&quot;text&quot; placeholder=&quot;Enter your phone&quot; minlength=&quot;10&quot; maxlength=&quot;10&quot; required=&quot;&quot; onkeyup=&quot;if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}&quot; onafterpaste=&quot;if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}&quot;&gt; $('input[type=number]').keypress(function(e) { if ((!String.fromCharCode(e.keyCode).match(/[0-9.]/))) { return false; } }); $('input[type=number]')[0].oninput = function(e) { if (e.target.value.length &gt; 10) { e.target.value = e.target.value.slice(0, 10) } } //åˆ¤æ–­é‚®ç®±çš„æ­£åˆ™ let pattern = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/; if (!pattern.test(email)) { popInfo('Please enter correct email information') return } ajaxè¯·æ±‚ http://api.youbetterbuy.com $.post('http://api.youbetterbuy.com/api/consultaion/addConsultaionUser',params,function (res) { if(res.retCode === 0) { $.cookie('phonenum', phone, { expires: 7, path: '/' }); closeShade() closeSign() ifCookieGetInfo() isDraw = false }else { if(res.message){ popInfo(res.message); }else { popInfo('System Error.'); } isDraw = false } }) what's up éšæœºå–å€¼ let halfUrl = 'http://yd2.xbetterbuy.com/wame.html?num=' let Arr = [&quot;+918732892814&quot;, &quot;+918939704559&quot;, &quot;+918939704535&quot;, &quot;+918939704614&quot;]; let n = Math.floor(Math.random() * Arr.length + 1) - 1; æ¡ç‚¹éªŒè¯ç  &lt;script src=&quot;./js/captcha-mini.js&quot;&gt;&lt;/script&gt; let captcha2 = new CaptchaMini({ lineWidth: 1, //çº¿æ¡å®½åº¦ lineNum: 0, //çº¿æ¡æ•°é‡ dotR: 2, //ç‚¹çš„åŠå¾„ dotNum: 25, //ç‚¹çš„æ•°é‡ preGroundColor: [10, 80], //å‰æ™¯è‰²åŒºé—´ backGroundColor: [150, 250], //èƒŒæ™¯è‰²åŒºé—´ fontSize: 40, //å­—ä½“å¤§å° fontFamily: ['Georgia', 'å¾®è½¯é›…é»‘', 'Helvetica', 'Arial'], //å­—ä½“ç±»å‹ fontStyle: 'fill', //å­—ä½“ç»˜åˆ¶æ–¹æ³•ï¼Œæœ‰fillå’Œstroke content: 'QWERTYUIOPASDFGHJKLZXCVBNM', //éªŒè¯ç å†…å®¹ length: 6 //éªŒè¯ç é•¿åº¦ }); captcha2.draw(document.querySelector('#captcha2'), r =&gt; { codeImgCheckLogin = r }); layUIçš„æç¤ºæ¶ˆæ¯=============== &lt;script src=&quot;../public_package/layer/layer.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt; /*æç¤ºæ¶ˆæ¯ */ function popInfo(str) { layer.open({ content: str, skin: 'msg', time: 2 }); } åˆ¤æ–­usernameåªä¸ºæ•°å­—ï¼Œå­—æ¯ï¼Œç©ºæ ¼ï¼Œä¸‹åˆ’çº¿ /*åˆ¤æ–­usernameåªä¸ºæ•°å­—ï¼Œå­—æ¯ï¼Œç©ºæ ¼ï¼Œä¸‹åˆ’çº¿*/ function checkUsernaem( username, isSignup=true) { let usern = /^[a-zA-Z0-9_ ]{1,}$/; if (!usern.test(username)) { if(isSignup) { popTip(usernameErrorTip, 'red', true) } username.value = ''; return } } JSè·å–å‰ä¸€ä¸ªè®¿é—®é¡µé¢çš„URLåœ°å€document.referrer è®©å¼¹çª—åœ¨é¡µé¢ä¸­å±…ä¸­ position: fixed; top: 50%; left: 50%; transform: translateX(-50%) translateY(-50%); meat:vp &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no&quot;&gt; Viewprotï¼šå“åº”å¼å¤–éƒ¨è®¾è®¡å­¦ä¹  ä»€ä¹ˆæ˜¯Viewportï¼Ÿ viewportæ˜¯ç”¨æˆ·ç½‘é¡µçš„å¯æ˜¯åŒºåŸŸã€‚ç¿»è¯‘ä¸­æ–‡å°±æ˜¯â€œè§†åŒºâ€ï¼Œæ‰‹æœºæµè§ˆå™¨æ˜¯æŠŠé¡µé¢æ”¾åœ¨ä¸€ä¸ªè™šæ‹Ÿçš„&quot;çª—å£&quot;ï¼ˆviewportï¼‰ä¸­ï¼Œé€šå¸¸è¿™ä¸ªè™šæ‹Ÿçš„&quot;çª—å£&quot;ï¼ˆviewportï¼‰æ¯”å±å¹•å®½ï¼Œè¿™æ ·å°±ä¸ç”¨æŠŠæ¯ä¸ªç½‘é¡µæŒ¤åˆ°å¾ˆå°çš„çª—å£ä¸­ï¼ˆè¿™æ ·ä¼šç ´åæ²¡æœ‰é’ˆå¯¹æ‰‹æœºæµè§ˆå™¨ä¼˜åŒ–çš„ç½‘é¡µçš„å¸ƒå±€ï¼‰ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å¹³ç§»å’Œç¼©æ”¾æ¥çœ‹ç½‘é¡µçš„ä¸åŒéƒ¨åˆ†ã€‚ å…³äºviewportçš„ä¸‰ä¸ªç†è®ºï¼Ÿ layout viewportï¼ˆå¸ƒå±€è§†åŒºï¼‰ï¼š åœ¨ç§»åŠ¨ç«¯æµè§ˆå™¨ä¸Šé¢ï¼Œè§†è§‰è§†åŒºé™åˆ¶äº†å¸ƒå±€è§†åŒºï¼Œä¸ºäº†èƒ½åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ­£å¸¸æ˜¾ç¤ºé‚£äº›ä¸ºpcç«¯æµè§ˆå™¨è®¾è®¡çš„ç½‘ç«™ï¼Œç§»åŠ¨è®¾å¤‡ä¸Šçš„æµè§ˆå™¨éƒ½ä¼šæŠŠè‡ªå·±é»˜è®¤çš„ viewport è®¾ä¸º980pxæˆ–å…¶ä»–å€¼ï¼Œä¸€èˆ¬éƒ½æ¯”ç§»åŠ¨ç«¯æµè§ˆå™¨å¯è§†åŒºåŸŸå¤§å¾ˆå¤šï¼Œæ‰€ä»¥å°±ä¼šå‡ºç°æµè§ˆå™¨å‡ºç°æ¨ªå‘æ»šåŠ¨æ¡çš„æƒ…å†µ ã€‚å¸ƒå±€è§†åŒºçš„å®½åº¦æ˜¯å¯ä»¥ç”¨ document.documentElement.clientWidth æ¥è·å–ã€‚ visual viewportï¼ˆè§†è§‰è§†åŒºï¼‰ï¼š ç”¨æˆ·é€è¿‡çª—å£å¯ä»¥çœ‹åˆ°çš„å†…å®¹åŒºåŸŸçš„å¤§å°ï¼Œç”¨æˆ·å¯ä»¥ä»¥æ»‘åŠ¨æˆ–è€…å…¶ä»–çš„æ–¹å¼æ¥æŸ¥çœ‹é¡µé¢å…¶ä»–å†…å®¹ï¼Œé€šè¿‡ window.screen.width æ¥è·å–å®ƒçš„å®½åº¦ï¼ŒåŒæ ·ä¸Šä¸€å¼ å·æ¥çš„å›¾ï¼Œå¸®åŠ©ç†è§£ã€‚ å¦‚ä½•ä½¿ç”¨viewport åˆ©ç”¨ meta æ ‡ç­¾è®¾ç½® viewport &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no&quot;&gt; å„ä¸ªå±æ€§çš„æ„æ€ï¼š widthï¼šæ§åˆ¶ viewport çš„å¤§å°ï¼Œå¯ä»¥æŒ‡å®šçš„ä¸€ä¸ªå€¼ï¼Œå¦‚ 600ï¼Œæˆ–è€…ç‰¹æ®Šçš„å€¼ï¼Œå¦‚ device-width ä¸ºè®¾å¤‡çš„å®½åº¦ï¼ˆå•ä½ä¸ºç¼©æ”¾ä¸º 100% æ—¶çš„ CSS çš„åƒç´ ï¼‰ã€‚ heightï¼šå’Œ width ç›¸å¯¹åº”ï¼ŒæŒ‡å®šé«˜åº¦ã€‚ initial-scaleï¼šåˆå§‹ç¼©æ”¾æ¯”ä¾‹ï¼Œä¹Ÿå³æ˜¯å½“é¡µé¢ç¬¬ä¸€æ¬¡ load çš„æ—¶å€™ç¼©æ”¾æ¯”ä¾‹ã€‚ minimum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å¤§æ¯”ä¾‹ã€‚ maximum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å°æ¯”ä¾‹ã€‚ user-scalableï¼šç”¨æˆ·æ˜¯å¦å¯ä»¥æ‰‹åŠ¨ç¼©æ”¾ã€‚ è®¾è®¡å›¾çš„å®½åº¦ = è®¾å¤‡å®½åº¦ å‡å¦‚ è®¾è®¡å›¾çš„å®½åº¦ä¸º 375pxï¼Œå½“ç„¶å¯ä»¥æ˜¯å…¶ä»–çš„ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªå‡å¦‚ï¼Œå¦‚æœæ˜¯640ï¼Œ750å°±æŠŠ375æ¢æˆå¯¹åº”çš„æ•°å€¼æŒ‰ç…§ä»¥ä¸‹æ–¹æ³•æ¢ç®—å°±è¡Œå°±è¡Œ å› ä¸º 375px = 100vw é‚£ä¹ˆ 1px = 100 / 375 vw = 0.26666666666666666vwï¼ˆçº¦ç­‰äºï¼‰ ä¸ºäº†æ–¹ä¾¿è®¡ç®—ï¼Œæ”¾å¤§ä¸€ç™¾å€ï¼Œç²¾ç¡®åˆ°6ä½ï¼Œåªèƒ½ä¸‹å–èˆï¼Œå› ä¸ºä¸Šå–èˆï¼Œè®¡ç®—å®½åº¦çš„æ—¶å€™ä¼šå¤§äºé¡µé¢å®½åº¦ï¼Œä»è€Œå‡ºç°æ»šåŠ¨æ¡ æ•…ï¼š 100px = 26.666666vwï¼ˆçº¦ç­‰äºï¼‰ åˆå› ä¸ºç»™ html æ ‡ç­¾è®¾ç½® font-size ä¸º 26.666666vw ï¼ˆçº¦ç­‰äºï¼‰ 1remä¸ºfont-sizeçš„å¤§å° æ‰€ä»¥ï¼š 1rem = 100px 0.2rem = 20px ä¹Ÿå°±æ˜¯è¯´ï¼š è®¾è®¡å›¾ä¸Šçš„ 12px æ¢ç®—æˆremå°±æ˜¯0.12remï¼Œ20pxå°±å†™æˆ0.2remå³å¯ è®©å­—ä½“é¢œè‰²æ¸å˜ font-size: .32rem; font-family:Arial; font-weight:bold; color:rgba(0,0,0,1); background:linear-gradient(0deg,rgba(253,103,87,1) 0%, rgba(255,189,80,1) 100%); -webkit-background-clip:text; -webkit-text-fill-color:transparent; åˆ¤æ–­è®¾å¤‡æ˜¯ä»€ä¹ˆç¡¬ä»¶å¹³å°çš„ //1.jsåˆ¤æ–­æ˜¯å¦ä¸ºIOSè®¾å¤‡ function IsAppleStore() { var u = navigator.userAgent, app = navigator.appVersion; var ios = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); var iPad = u.indexOf('iPad') &gt; -1; var iPhone = u.indexOf('iPhone') &gt; -1 || u.indexOf('Mac') &gt; -1; if (ios || iPad || iPhone) { return true; } else { return false; } } //1.jsåˆ¤æ–­æ˜¯å¦ä¸ºAndroidè®¾å¤‡ function IsAndroidList() { var u = navigator.userAgent; if (u.indexOf('Android') &gt; -1 || u.indexOf('Adr') &gt; -1) { return true } else { return false } } //3.jsåˆ¤æ–­æ˜¯å¦æ˜¯ç”µè„‘ç«¯ function IsPC() { var userAgentInfo = navigator.userAgent; var Agents = [&quot;Android&quot;, &quot;iPhone&quot;, &quot;SymbianOS&quot;, &quot;Windows Phone&quot;, &quot;iPad&quot;, &quot;iPod&quot;]; var flag = true; for (var v = 0; v &lt; Agents.length; v++) { if (userAgentInfo.indexOf(Agents[v]) &gt; 0) { flag = false; break; } } return flag; } æ–‡æœ¬æº¢å‡ºæ¢è¡Œ /*å•è¡Œçœç•¥*/ overflow: hidden; //è¶…å‡ºçš„æ–‡æœ¬éšè— text-overflow: ellipsis; //æº¢å‡ºç”¨çœç•¥å·æ˜¾ç¤º white-space: nowrap; //æº¢å‡ºä¸æ¢è¡Œ /*å¤šè¡Œçœç•¥*/ word-wrap:break-word; /* å†…å®¹å­˜åœ¨è‹±è¯­æˆ–æ•°å­—æ—¶å¼ºåˆ¶æ¢è¡Œ */ overflow: hidden; /* éšè—æº¢å‡ºéƒ¨åˆ† */ text-overflow: ellipsis; /* æ˜¾ç¤ºçœç•¥ç¬¦å·æ¥ä»£è¡¨è¢«éšè—çš„æ–‡æœ¬ */ display: -webkit-box; /* å°†å¯¹è±¡ä½œä¸ºå¼¹æ€§ä¼¸ç¼©ç›’å­æ¨¡å‹æ˜¾ç¤º */ -webkit-box-orient: vertical; /* è®¾ç½®ç›’å­å†…æ’åˆ—é¡ºåºä¸ºçºµå‘ */ -webkit-line-clamp: 2; /* é™åˆ¶å—å…ƒç´ æ˜¾ç¤ºçš„æ–‡æœ¬çš„è¡Œæ•° */ ä¿®æ”¹html-webpack-pluginçš„å€¼ /** * @Description: è‡ªå®šä¹‰é…ç½® * @Author: txf * @CreateDate: 2020/5/7 13:28 */ const path = require(&quot;path&quot;); function resolve(dir) { return path.join(__dirname, dir); } module.exports = { publicPath: process.env.NODE_ENV === &quot;production&quot; ? &quot;/solar/&quot; : &quot;./&quot;, /* è¾“å‡ºæ–‡ä»¶ç›®å½•ï¼šåœ¨npm run buildæ—¶ï¼Œç”Ÿæˆæ–‡ä»¶çš„ç›®å½•åç§° */ outputDir: &quot;dist&quot;, /* æ”¾ç½®ç”Ÿæˆçš„é™æ€èµ„æº (jsonã€cssã€imgã€fonts) çš„ (ç›¸å¯¹äº outputDir çš„) ç›®å½• */ assetsDir: &quot;static&quot;, configureWebpack: { resolve: { alias: { &quot;@&quot;: resolve(&quot;src&quot;) } } }, //ä¿®æ”¹æˆ–æ–°å¢html-webpack-pluginçš„å€¼ï¼Œåœ¨index.htmlé‡Œé¢èƒ½è¯»å–htmlWebpackPlugin.options.title chainWebpack: config =&gt;{ config.plugin('html') .tap(args =&gt; { args[0].title = &quot;å¹³å°&quot;; return args; }) }, /* æ˜¯å¦åœ¨æ„å»ºç”Ÿäº§åŒ…æ—¶ç”Ÿæˆ sourceMap æ–‡ä»¶ï¼Œfalseå°†æé«˜æ„å»ºé€Ÿåº¦ */ productionSourceMap: false, lintOnSave: false, }; ","link":"https://DennyWanye.GitHub.io/post/tip/"},{"title":"ç•ªèŒ„å·¥ä½œæ³•","content":" ä¸€ã€ç•ªèŒ„å·¥ä½œæ³•çš„å·¥å…·ï¼š ä¸€ä¸ªè®¡æ—¶å·¥å…· ä¸€å¼ today's TODO Listï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š 2.1 å°æ ‡é¢˜ï¼ŒåŒ…æ‹¬æ—¶é—´ã€åœ°ç‚¹ã€äººç‰© 2.2 æ¸…å•ï¼ŒåŒ…å«ä»Šå¤©è¦åšçš„äº‹æƒ…ï¼Œå…ˆåé¡ºåºæ’åˆ— 2.3 è®¡åˆ’å¤–çš„ç´§æ€¥äº‹ä»¶ activity inventoryï¼š 3.1 æ ‡é¢˜ï¼š äººç‰©ã€äº‹ä»¶ 3.2 æƒ³è¦åšä»€ä¹ˆçš„äº‹æƒ… ä¸€ä»½è®°å½•è¡¨ï¼Œç”¨äºè®°å½•åŸå§‹æ•°æ®ã€‚åŒ…å«ï¼šæ•°æ®ã€æ‘˜è¦ã€å®Œæˆä»»åŠ¡æ‰€éœ€è¦çš„ç•ªèŒ„é’Ÿæ—¶é—´ã€‚ äºŒã€æ³•åˆ™ è§„åˆ™ä¸€ï¼š ä¸€ä¸ªç•ªèŒ„æ—¶é—´å…±30åˆ†é’Ÿ = 25åˆ†é’Ÿå·¥ä½œæ—¶é—´ + 5åˆ†é’Ÿä¼‘æ¯æ—¶é—´ è§„åˆ™äºŒï¼š ä¸€ä¸ªç•ªèŒ„æ—¶é—´ä¸å¯åˆ†å‰² è§„åˆ™ä¸‰ï¼šæ¯å››ä¸ªç•ªèŒ„æ—¶é—´åï¼Œåœæ­¢ä½ çš„å·¥ä½œï¼Œè¿›è¡Œä¸€æ¬¡è¾ƒé•¿æ—¶é—´çš„ä¼‘æ¯ï¼Œ15~30åˆ†é’Ÿ è§„åˆ™å››ï¼šå®Œæˆä¸€ä¸ªä»»åŠ¡ï¼Œåˆ’æ‰ä¸€ä¸ªä»»åŠ¡ ä¸‰ã€ç•ªèŒ„å·¥ä½œæ³•æµç¨‹ æ³¨æ„ï¼š å¼„æ¸…æ¥šå®ŒæˆæŸé¡¹ä»»åŠ¡æ‰€éœ€è¦çš„æ—¶é—´ å‡å°‘è¢«æ‰“æ–­çš„æ¬¡æ•° ä¼°æµ‹æŸé¡¹ä»»åŠ¡æ‰€éœ€è¦çš„æ—¶é—´ çº¿ä¸Šå·¥å…· ","link":"https://DennyWanye.GitHub.io/post/fan-qie-gong-zuo-fa/"},{"title":"EventLoop å’Œ æ‰§è¡Œæ ˆ","content":"EventLoop 1.å †å’Œæ ˆ å †ï¼ˆheapï¼‰ï¼šå­˜æ”¾è¿™å¯¹è±¡ æ ˆï¼ˆstackï¼‰ï¼šå­˜æ”¾ç€å¯¹è±¡çš„æŒ‡é’ˆä»¥åŠä¸€äº›åŸºç¡€å˜é‡ç±»å‹ 2.æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼ˆExecution Context Stackï¼‰ï¼Œä»¥ä¸‹ç®€ç§°æ‰§è¡Œæ ˆã€‚ å¯ä»¥æŠŠæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆè®¤ä¸ºæ˜¯ä¸€ä¸ªå­˜å‚¨å‡½æ•°è°ƒç”¨çš„æ ˆç»“æ„ï¼Œéµå¾ªå…ˆè¿›åå‡ºçš„åŸåˆ™ 3.æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆExecution Contextï¼‰ 3.1 æ¦‚å¿µï¼šå½“ä½ æ‰§è¡Œä¸€ä¸ª å‡½æ•° çš„æ—¶å€™ï¼Œjsä¼šç”Ÿæˆä¸ä¹‹å¯¹åº”çš„æ‰§è¡Œç¯å¢ƒï¼ˆExecution Contextï¼‰ï¼Œç„¶ååœ¨è¿™ä¸ªæ‰§è¡Œç¯å¢ƒä¸­æ‰§è¡Œè¯¥ å‡½æ•° ï¼Œå½“è¯¥ å‡½æ•° æ‰§è¡Œå®Œæ¯•å¹¶è¿”å›ç»“æœåï¼Œjsä¼šé€€å‡ºè¿™ä¸ªæ‰§è¡Œç¯å¢ƒï¼Œå¹¶æŠŠè¿™ä¸ªæ‰§è¡Œç¯å¢ƒé”€æ¯ã€‚ 3.2 ç±»å‹ï¼š å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼š è¿™æ˜¯é»˜è®¤çš„ã€æœ€åŸºç¡€çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ä¸åœ¨ä»»ä½•å‡½æ•°ä¸­çš„ä»£ç éƒ½ä½äºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ã€‚å®ƒåšäº†ä¸¤ä»¶äº‹ï¼š1. åˆ›å»ºä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨ä¸­è¿™ä¸ªå…¨å±€å¯¹è±¡å°±æ˜¯ window å¯¹è±¡ã€‚2. å°† this æŒ‡é’ˆæŒ‡å‘è¿™ä¸ªå…¨å±€å¯¹è±¡ã€‚ä¸€ä¸ªç¨‹åºä¸­åªèƒ½å­˜åœ¨ä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼š æ¯æ¬¡è°ƒç”¨å‡½æ•°æ—¶ï¼Œéƒ½ä¼šä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æ¯ä¸ªå‡½æ•°éƒ½æ‹¥æœ‰è‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä½†æ˜¯åªæœ‰åœ¨å‡½æ•°è¢«è°ƒç”¨çš„æ—¶å€™æ‰ä¼šè¢«åˆ›å»ºã€‚ä¸€ä¸ªç¨‹åºä¸­å¯ä»¥å­˜åœ¨ä»»æ„æ•°é‡çš„å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æ¯å½“ä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡è¢«åˆ›å»ºï¼Œå®ƒéƒ½ä¼šæŒ‰ç…§ç‰¹å®šçš„é¡ºåºæ‰§è¡Œä¸€ç³»åˆ—æ­¥éª¤ï¼Œå…·ä½“è¿‡ç¨‹å°†åœ¨æœ¬æ–‡åé¢è®¨è®ºã€‚ Eval å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼š è¿è¡Œåœ¨ eval å‡½æ•°ä¸­çš„ä»£ç ä¹Ÿè·å¾—äº†è‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä½†ç”±äº Javascript å¼€å‘äººå‘˜ä¸å¸¸ç”¨ eval å‡½æ•°ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œä¸å†è®¨è®ºã€‚ 4.æ‰§è¡Œçš„è¿‡ç¨‹ï¼ˆåŒæ­¥ä»»åŠ¡ï¼‰ æœ€å¼€å§‹æµè§ˆå™¨æ‰§è¡Œå…¨å±€ä»£ç çš„æ—¶å€™ï¼Œå°†å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥ï¼ˆpushï¼‰æ‰§è¡Œæ ˆçš„åº•éƒ¨ã€‚ æ¯å½“æ‰§è¡Œä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå°±ä¼šåˆ›å»ºè¯¥å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¹¶å°†å®ƒå‹å…¥åˆ°æ‰§è¡Œæ ˆçš„åº•éƒ¨ã€‚å½“è¿™ä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•å¹¶è¿”å›ä¹‹åï¼Œåˆ é™¤ï¼ˆpopï¼‰è¯¥æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œç­‰å¾…åƒåœ¾å›æ”¶ã€‚ æµè§ˆå™¨çš„JSæ‰§è¡Œå¼•æ“æ€»æ˜¯ä¼šè®¿é—®æ‰§è¡Œæ ˆé¡¶éƒ¨çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ å…¨å±€ä¸Šä¸‹æ–‡åªæœ‰ä¸€ä¸ªï¼Œåœ¨æµè§ˆå™¨å…³é—­æ—¶å‡ºæ ˆã€‚ 5.å…³äºå¼‚æ­¥ä»»åŠ¡ jså¼•æ“é‡è§ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ä¹‹åï¼Œå¹¶ä¸ä¼šé˜»å¡ï¼Œè€Œæ˜¯å°†å…¶æŒ‚èµ·ï¼Œç»§ç»­æ‰§è¡Œåç»­çš„ä»»åŠ¡ã€‚ ç„¶åå½“å¼‚æ­¥ä»»åŠ¡è¿”å›ç»“æœï¼Œå¹¶éœ€è¦æ‰§è¡Œcallbackå‡½æ•°çš„æ—¶å€™ã€‚jså¼•æ“ä¼šå°†è¯¥callbackå‡½æ•°æ”¾å…¥â€”â€”äº‹ä»¶é˜Ÿåˆ—ä¸­ï¼ˆTask Queueï¼‰ æ ¹æ®å¼‚æ­¥ä»»åŠ¡çš„ä¸åŒï¼Œäº‹ä»¶é˜Ÿåˆ—ä¹Ÿåˆ’åˆ†æˆå¾®ä»»åŠ¡ï¼ˆmicro taskï¼‰é˜Ÿåˆ—å’Œå®ä»»åŠ¡ï¼ˆmacro taskï¼‰é˜Ÿåˆ—ã€‚ å±äºå®ä»»åŠ¡çš„ï¼šsetInterval()ã€setTimeout() å±äºå¾®ä»»åŠ¡çš„ï¼šnew Promise()ã€new MutaionObserver() ä¸»è¿›ç¨‹çš„ä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼Œä¼šå…ˆåˆ¤æ–­å¾®ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºï¼Œåˆ™æ‰§è¡Œå…¶ä¸­ä»»åŠ¡ï¼Œä¸ºç©ºåˆ™åˆ¤æ–­å®ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºåˆ™å–å‡ºæœ€å‰é¢çš„ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œã€‚æ‰§è¡Œå®Œæˆåå°±é‡å¤ä»¥ä¸Šæ“ä½œã€‚ setTimeout(function () { console.log(1); }); new Promise(function(resolve,reject){ console.log(2) resolve(3) }).then(function(val){ console.log(val); }) //æ‰§è¡Œç»“æœ 2 3 1 å‚è€ƒ ","link":"https://DennyWanye.GitHub.io/post/eventloop-he-zhi-xing-zhan/"},{"title":"flexå¸ƒå±€çš„flex-growã€flex-shrinkã€flex-basis","content":"flex-basisï¼š ç”¨äºè®¾ç½®å­å…ƒç´ å ç”¨çš„ç©ºé—´ã€‚ å¦‚æœè®¾ç½®ä¸º flex-basis: auto;ï¼Œå­é¡¹çš„å®½åº¦ç”±å…¶ widthæ•°å€¼å†³å®šï¼Œå¦‚æœå®½åº¦ä¸º autoï¼Œåˆ™ç”±å…¶å†…å®¹æ’‘èµ·çš„å®½åº¦å†³å®šã€‚ å¦‚æœè®¾ç½®ä¸º flex-basis: 700px;ï¼Œåˆ™å­é¡¹çš„å®½åº¦ä¼šè¢«è¦†ç›–ä¸º700pxã€‚ flex-growï¼šç”¨æ¥â€œç“œåˆ†â€çˆ¶é¡¹çš„â€œå‰©ä½™ç©ºé—´â€ã€‚ æ ¹æ®æ¯ä¸ªå­é¡¹flex-grow çš„å€¼ï¼Œæ¥â€œç“œåˆ†â€çˆ¶é¡¹çš„å‰©ä½™ç©ºé—´ã€‚ ä¾‹å­ï¼š .father{ width: 500px; height: 30px; display: flex; background-color: #eee; } .children-1 { width: 100px; background-color: pink; } .children-2 { width: 100px; flex-grow: 1; background-color: blue; } .children-3 { width: 100px; flex-grow: 3; background-color: red; } &lt;div class=&quot;father&quot;&gt; &lt;div class=&quot;children-1&quot;&gt;1&lt;/div&gt; &lt;div class=&quot;children-2&quot;&gt;2&lt;/div&gt; &lt;div class=&quot;children-3&quot;&gt;3&lt;/div&gt; &lt;/div&gt; é»˜è®¤ä¸º0ï¼Œå³ä¸å‚ä¸ç“œåˆ† ç“œåˆ†çš„ä»½æ•° = æ¯ä¸ªå­é¡¹flex-growçš„æ•°é‡ä¹‹å’Œ ç“œåˆ†çš„å®½åº¦ = çˆ¶é¡¹æœªåˆ†é…å‡ºå»çš„å®½åº¦ï¼Œæ­¤æ—¶ä¸º 500 - 300 = 200px æ¯ä¸ªå­é¡¹ç“œåˆ†åˆ°çš„å®½åº¦ = ç“œåˆ†çš„å®½åº¦ / ç“œåˆ†çš„ä»½æ•° * å­é¡¹ flex-growçš„æ•°é‡ flex-shrinkç”¨æ¥â€œå¸æ”¶â€è¶…å‡ºçš„ç©ºé—´ .father{ width: 500px; height: 30px; display: flex; background-color: #eee; } .children-1 { width: 300px; flex-basis: 400px; background-color: pink; } .children-2 { width: 100px; flex-basis: 200px; background-color: blue; flex-shrink: 1; } .children-3 { width: 100px; flex-basis: auto; background-color: red; flex-shrink: 2; } å› ä¸ºflex-basis: 400pxè¦†ç›–äº†åŸæœ¬è®¾ç½®çš„å®½åº¦ï¼Œæ‰€ä»¥children-1çš„å®½åº¦ä¸º 400pxã€‚ åŒç†children-2çš„å®½åº¦ä¸º200pxã€‚ å› ä¸ºflex-basis: autoï¼Œæ‰€ä»¥children-3çš„å®½åº¦ä¸ºwidthçš„å®½åº¦ï¼Œå³æ˜¯100pxã€‚ è¶…å‡ºçš„å®½åº¦ä¸º200px å› ä¸ºflex-shrinké»˜è®¤å€¼ä¸º1ï¼Œæ‰€ä»¥å­é¡¹çš„flex-shrinkå€¼æ€»å’Œä¸º 4ã€‚ æ¯ä¸ªå­é¡¹æ‰€å‡å°‘çš„å®½åº¦ = 200px / 4 * æ¯ä¸ªå­é¡¹çš„flex-shrinkçš„å€¼ã€‚ [åŸæ•™ç¨‹é“¾æ¥](flex-basisï¼š ç”¨äºè®¾ç½®å­å…ƒç´ å ç”¨çš„ç©ºé—´ã€‚ å¦‚æœè®¾ç½®ä¸º flex-basis: auto;ï¼Œå­é¡¹çš„å®½åº¦ç”±å…¶ widthæ•°å€¼å†³å®šï¼Œå¦‚æœå®½åº¦ä¸º autoï¼Œåˆ™ç”±å…¶å†…å®¹æ’‘èµ·çš„å®½åº¦å†³å®šã€‚ å¦‚æœè®¾ç½®ä¸º flex-basis: 700px;ï¼Œåˆ™å­é¡¹çš„å®½åº¦ä¼šè¢«è¦†ç›–ä¸º700pxã€‚ flex-growï¼šç”¨æ¥â€œç“œåˆ†â€çˆ¶é¡¹çš„â€œå‰©ä½™ç©ºé—´â€ã€‚ æ ¹æ®æ¯ä¸ªå­é¡¹flex-grow çš„å€¼ï¼Œæ¥â€œç“œåˆ†â€çˆ¶é¡¹çš„å‰©ä½™ç©ºé—´ã€‚ ä¾‹å­ï¼š .father{ width: 500px; height: 30px; display: flex; background-color: #eee; } .children-1 { width: 100px; background-color: pink; } .children-2 { width: 100px; flex-grow: 1; background-color: blue; } .children-3 { width: 100px; flex-grow: 3; background-color: red; } &lt;div class=&quot;father&quot;&gt; &lt;div class=&quot;children-1&quot;&gt;1&lt;/div&gt; &lt;div class=&quot;children-2&quot;&gt;2&lt;/div&gt; &lt;div class=&quot;children-3&quot;&gt;3&lt;/div&gt; &lt;/div&gt; é»˜è®¤ä¸º0ï¼Œå³ä¸å‚ä¸ç“œåˆ† ç“œåˆ†çš„ä»½æ•° = æ¯ä¸ªå­é¡¹flex-growçš„æ•°é‡ä¹‹å’Œ ç“œåˆ†çš„å®½åº¦ = çˆ¶é¡¹æœªåˆ†é…å‡ºå»çš„å®½åº¦ï¼Œæ­¤æ—¶ä¸º 500 - 300 = 200px æ¯ä¸ªå­é¡¹ç“œåˆ†åˆ°çš„å®½åº¦ = ç“œåˆ†çš„å®½åº¦ / ç“œåˆ†çš„ä»½æ•° * å­é¡¹ flex-growçš„æ•°é‡ flex-shrinkç”¨æ¥â€œå¸æ”¶â€è¶…å‡ºçš„ç©ºé—´ .father{ width: 500px; height: 30px; display: flex; background-color: #eee; } .children-1 { width: 300px; flex-basis: 400px; background-color: pink; } .children-2 { width: 100px; flex-basis: 200px; background-color: blue; flex-shrink: 1; } .children-3 { width: 100px; flex-basis: auto; background-color: red; flex-shrink: 2; } å› ä¸ºflex-basis: 400pxè¦†ç›–äº†åŸæœ¬è®¾ç½®çš„å®½åº¦ï¼Œæ‰€ä»¥children-1çš„å®½åº¦ä¸º 400pxã€‚ åŒç†children-2çš„å®½åº¦ä¸º200pxã€‚ å› ä¸ºflex-basis: autoï¼Œæ‰€ä»¥children-3çš„å®½åº¦ä¸ºwidthçš„å®½åº¦ï¼Œå³æ˜¯100pxã€‚ è¶…å‡ºçš„å®½åº¦ä¸º200px å› ä¸ºflex-shrinké»˜è®¤å€¼ä¸º1ï¼Œæ‰€ä»¥å­é¡¹çš„flex-shrinkå€¼æ€»å’Œä¸º 4ã€‚ æ¯ä¸ªå­é¡¹æ‰€å‡å°‘çš„å®½åº¦ = 200px / 4 * æ¯ä¸ªå­é¡¹çš„flex-shrinkçš„å€¼ åŸæ•™ç¨‹é“¾æ¥ ","link":"https://DennyWanye.GitHub.io/post/flex-bu-ju-de-flex-growflex-shrinkflex-basis/"},{"title":"ä½“å†…å¹³è¡¡æœºåˆ¶","content":" 1. åŸç†ï¼š æˆ‘ä»¬å¤§è„‘äº§ç”Ÿå¿«æ„Ÿå’Œç—›æ„Ÿçš„åŒºåŸŸæ˜¯é‡å çš„ï¼Œæ¯ä¸€æ¬¡å› ä¸ºå¤šå·´èƒºäº§ç”Ÿçš„å¿«æ„Ÿï¼Œèº«ä½“ä¼šç”¨è‡ªåŠ¨ç”¨ä¸€å®šçš„ç—›æ„Ÿæ¥å¹³è¡¡å®ƒã€‚åœ¨ç”Ÿç†å­¦å«åšä½“å†…å¹³è¡¡ã€‚ ä¹Ÿå°±æ˜¯å½“ä½ é€šè¿‡è¡ŒåŠ¨Aäº§ç”Ÿå¿«æ„Ÿåï¼Œä½“å†…å¹³è¡¡æœºåˆ¶ä¼šè®©ä½ äº§ç”Ÿä»¥ä¸‹æƒ…å†µï¼Œä¹Ÿå³æ˜¯ç—›æ„Ÿï¼š æ¸´æœ›æ›´å¤š è´Ÿé¢çš„æƒ…ç»ª é™ä½è¡ŒåŠ¨Aäº§ç”Ÿçš„å¿«æ„Ÿå¼ºåº¦ å¦‚æœæˆ‘ä»¬ä»€ä¹ˆéƒ½ä¸åšï¼Œä½“å†…å¹³è¡¡ä¼šæ¢å¤åˆ°æŸç§å¹³è¡¡çŠ¶æ€ã€‚ ä¾‹å­ï¼šå¸æ¯’ï¼Œå½“ä½ å¸æ¯’åï¼Œä¼šäº§ç”Ÿå·¨å¤§çš„å¿«æ„Ÿã€‚ä¹‹åä¼šè®©ä½ æƒ³è¦æ›´å¤šï¼Œä»¥åŠå½“é•¿æ—¶é—´ä¸å¸æ¯’åçš„æˆ’æ–­ååº”ã€‚æˆ’æ–­ååº”å°±æ˜¯å¹³è¡¡æœºåˆ¶äº§ç”Ÿçš„ç—›æ„Ÿï¼ˆç„¦è™‘ã€çƒ¦èºçš„æƒ…ç»ªç­‰ï¼‰ã€‚æ— é™å¾ªç¯ä¹‹åï¼Œäº§ç”Ÿçš„ç—›æ„Ÿå°±ä¼šé•¿æ—¶é—´å­˜åœ¨ï¼Œè€Œå¸æ¯’ï¼ˆåŒæ ·æ•°é‡å’Œå“è´¨çš„ï¼‰äº§ç”Ÿçš„å¿«æ„Ÿä¼šé™ä½ã€‚æ‰€ä»¥ä¸ªä½“å°±ä¼šè¿½æ±‚æ›´åŠ åˆºæ¿€çš„æ¯’å“ã€‚è€Œå½“è¯¥ä¸ªä½“æƒ³è¦æˆ’æ¯’çš„æ—¶å€™ï¼Œäº§ç”Ÿçš„æˆ’æ–­ååº”å°±æ˜¯ç—›æ„Ÿçš„æç«¯è¡¨è¾¾ã€‚ äººä½“å†…éƒ¨å­˜åœ¨ä¸€ç§å¹³è¡¡ï¼Œè¿™ç§å¹³è¡¡èµ·åˆ°è°ƒèŠ‚ç”Ÿç‰©ä½“å¿«æ„Ÿå’Œç—›æ„Ÿçš„ä½œç”¨ã€‚å…·ä½“çš„æœºåˆ¶å°±æ˜¯ï¼šå½“ä½ åšä¸€ä»¶äº‹æƒ…æ„Ÿè§‰åˆ°å¿«æ„Ÿçš„ä¹‹åï¼Œä½“å†…å¹³è¡¡æœºåˆ¶å°±ä¼šäº§ç”Ÿç›¸åº”æ¯”ä¾‹ï¼ˆæ¯”ä¾‹æ˜¯å¤šå°‘å‘¢ï¼Ÿï¼‰çš„ç—›æ„Ÿã€‚åä¹‹ï¼Œå½“ä½ åšä¸€ä»¶äº‹æƒ…æ„Ÿå—åˆ°ç—›æ„Ÿçš„ä¹‹åï¼Œä½“å†…å¹³è¡¡æœºåˆ¶å°±ä¼šäº§ç”Ÿç›¸åº”æ¯”ä¾‹çš„å¿«æ„Ÿã€‚ 2.è¿™æ˜¯ä¸€ç§äººä½“çš„æœºåˆ¶ï¼ˆç”Ÿç‰©ä½“çš„æœºåˆ¶ï¼Ÿï¼‰ 2.1 æœºåˆ¶çš„è¾¹ç•Œæƒ…å†µ 2.1.1å¤šå·´èƒºæ¯ç«­ å¦‚æœä¸æ–­çš„è¿½æ±‚å¿«æ„Ÿï¼Œå°±ä¼šè¿›å…¥ä¸€ç§å¤šå·´èƒºæ¯ç«­çš„çŠ¶æ€ã€‚ä»è€Œå¾ˆéš¾å»åšä¸€ä»¶å›°éš¾çš„äº‹æƒ…ã€‚ ä¾‹å¦‚ï¼šå¦‚æœä½ æ—©ä¸Šé†’äº†ä¸€ç›´åˆ·æŠ–éŸ³ï¼Œå°±ä¼šå¾ˆéš¾èµ·åºŠã€‚ 2.1.2 ä½“å†…å¹³è¡¡çš„æœºåˆ¶è¢«æ‰“ç ´ å°±åƒåˆšåˆšè¯´çš„å¸æ¯’ï¼Œå½“ä½“å†…å¹³è¡¡æœºåˆ¶è¢«æ‰“ç ´æ—¶ï¼Œæ–°çš„å¹³è¡¡ä¼šå»ºç«‹ã€‚ä¸ªä½“æ„Ÿå—åˆ°å¿«æ„Ÿçš„é˜™å€¼ä¼šä¸Šå‡ã€‚æ„Ÿå—åˆ°ç—›æ„Ÿçš„é˜™å€¼ä¼šä¸‹é™ã€‚åä¹‹å¦‚æœä½ ä¸€ç›´è¿½æ±‚ç—›æ„Ÿï¼ˆå‡è®¾ï¼‰ï¼Œæ–°çš„æœºåˆ¶å¹³è¡¡å»ºç«‹åï¼Œç—›æ„Ÿçš„é˜™å€¼ä¼šä¸Šå‡ï¼Œå¿«æ„Ÿçš„é˜™å€¼ä¼šä¸‹é™ã€‚ é˜™å€¼è¢«æ‰“ç ´çš„æ¡ä»¶ï¼šï¼ˆä¸»åŠ¨æˆ–è€…è¢«åŠ¨ï¼‰ä¸€ç›´æ„Ÿå—åˆ°è¶…å‡ºä½“å†…å¹³è¡¡æœºåˆ¶å¹³è¡¡ç‚¹çš„å¿«æ„Ÿæˆ–ç—›æ„Ÿï¼Œå½“ä¸ªä½“ä¹ æƒ¯ï¼ˆç¬¼ç»Ÿçš„è¯´æ³•ï¼‰äº†ä¹‹åï¼Œæ–°çš„å¹³è¡¡è¢«å»ºç«‹ã€‚ 3.å¦‚ä½•åˆ©ç”¨æœºåˆ¶ 3.1 è¿½æ±‚ç—›è‹¦ è¦ç‚¹ï¼šä¸»åŠ¨åšä¸€äº›ä¼šäº§ç”Ÿç—›æ„Ÿçš„äº‹æƒ…ï¼Œä¹‹åæ ¹æ®æœºåˆ¶ï¼Œèº«ä½“ä¼šäº§ç”Ÿå¿«æ„Ÿã€‚æ­¤æ—¶ï¼Œäº§ç”Ÿçš„ç—›æ„Ÿä¸ä»…ä¸ä¼šäº§ç”Ÿç„¦è™‘ï¼Œè¿˜ä¼šç¼“è§£ç„¦è™‘ã€‚ä¼šäº§ç”Ÿå¤šå·´èƒºå’Œå†…å•¡è‚½ï¼ˆæ­¢ç—›ï¼‰äº§ç”Ÿå¿«æ„Ÿã€‚ 3.2 æ§åˆ¶å¿«æ„Ÿå’Œç—›æ„Ÿçš„è·å– ä¸Šé¢ä¸€å¼ å›¾ä¸ºåšäº‹æƒ…äº§ç”Ÿçš„å¤šå·´èƒºæ•°é‡ï¼Œå–ä¸€æ¯å’–å•¡ä¸º130ï¼Œæœ€åä¸€é¡¹å¸é£Ÿå†°æ¯’ä¸º1300ã€‚çº¢çº¿ä»¥ä¸‹ä¸ºä¼šç ´åæœºåˆ¶å¹³è¡¡çš„ã€‚ ç®¡ç†å¥½æ¯å¤©åšé«˜å¿«æ„Ÿäº‹æƒ…çš„æ—¶é—´ã€‚ä¸Šå›¾ä¸­çº¢çº¿ä»¥ä¸Šçš„å°±æ˜¯æ­£å¸¸ç”Ÿæ´»ä¸­é«˜å¤šå·´èƒºçš„è¡Œä¸ºã€‚å¦‚æœä¸ªä½“åœ¨ä¸€å¤©ä¸­å…ˆåšé«˜å¤šå·´èƒºçš„è¡Œä¸ºï¼Œè¯¥ä¸ªä½“åœ¨ä¹‹åçš„ä¸€æ®µæ—¶é—´å†…ï¼Œå°±ä¼šé¢ä¸´ç—›æ„Ÿçš„è´Ÿé¢çŠ¶æ€ï¼ˆç„¦è™‘ï¼Œçƒ¦èºç­‰ç”šè‡³æ˜¯å¤šå·´èƒºæ¯ç«­ï¼‰ï¼Œå¯¼è‡´å¾ˆéš¾ç”šè‡³æ²¡æœ‰åŠæ³•å®Œæˆä¸€äº›éœ€è¦å»å¤„ç†ä¸”æœ‰ç—›æ„Ÿçš„äº‹æƒ…ã€‚ æ‰€ä»¥ï¼Œå¯ä»¥å…ˆåšéœ€è¦å¤„ç†ä¸”æœ‰ç—›æ„Ÿçš„äº‹æƒ…ï¼Œä¹‹åçš„æ—¶é—´å†…å› ä¸ºæˆ‘ä»¬å…ˆåšäº†æœ‰ç—›æ„Ÿçš„äº‹æƒ…ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°æœºåˆ¶åé¦ˆçš„ä¸”èƒ½ç¼“è§£ç„¦è™‘çš„å¿«æ„Ÿã€‚ 3.3 é™ä½å¿«æ„Ÿçš„é¢„æœŸ ä¾‹å­ï¼šè¿˜è®°å¾—æ¡ä»¶åå°„çš„å®éªŒå—ï¼Ÿå°±æ˜¯æ‘‡é“ƒé“›ï¼Œå°±ç»™ç‹—å­é£Ÿç‰©åƒã€‚å®éªŒè€…æœ€ååªæ˜¯æ‘‡é“ƒé“›ç‹—éƒ½ä¼šæµå‡ºå£æ°´ã€‚ è¿™å°±æ˜¯é¢„æœŸå¸¦æ¥çš„å¿«æ„Ÿï¼Œè¿™ç§å¿«æ„Ÿæ˜¯æ²¡æœ‰å®é™…åˆ©ç›Šçš„ã€‚ç‹—å­å¹¶æ²¡æœ‰å¾—åˆ°é£Ÿç‰©ï¼Œåªæ˜¯å¬åˆ°äº†é“ƒé“›çš„å£°éŸ³ã€‚ æ‰€ä»¥å¯ä»¥é€šè¿‡é™ä½å¿«æ„Ÿçš„é¢„æœŸï¼Œä¹Ÿå³æ˜¯é™ä½é¢„æœŸå¸¦æ¥çš„å¿«æ„Ÿï¼Œä»è€Œé™ä½å¿«æ„Ÿçš„è·å–ã€‚ å¥–åŠ±é¢„åˆ¤è¯¯å·® åšå¯ä»¥è·å¾—å¿«æ„Ÿçš„è¡Œä¸ºAï¼Œä»…ä»…åªæ˜¯å°†æˆåŠŸçš„æ¦‚ç‡è°ƒæ•´åˆ°50%ï¼Œå¤šå·´èƒºå³ä¼šåœ¨è¡ŒåŠ¨è¿‡ç¨‹ä¸­ä¸Šå‡åˆ°ä¸€ä¸ªå¾ˆå¤§çš„æ°´å¹³ï¼Œä¹Ÿæ˜¯èµŒåšä¹‹æ‰€ä»¥å¸å¼•åŠ›çš„åŸå› ã€‚ æ‰€ä»¥å°½é‡ä¸è¦å»ç¢°è¿™ç§æ¶‰åŠåˆ°å¥–åŠ±é¢„åˆ¤è¯¯å·®ã€‚ 3.4å»¶è¿Ÿæ¶ˆè´¹å¤šå·´èƒº å½“ä¸ªä½“è¢«èº«ä½“é©±åŠ¨å»åšä¸€äº›é«˜å¿«æ„Ÿçš„äº‹æƒ…Aæ—¶ï¼Œå¯ä»¥é€šè¿‡æ­£å¿µå†¥æƒ³ï¼ˆæ–¹æ³•çš„ä¸€ç§ï¼‰æ¥æš‚æ—¶æ”¾ç½®å»åšäº‹æƒ…Açš„å†²åŠ¨ã€‚ ä¾‹å­ï¼šå½“ä½ åœ¨å‡è‚¥æ—¶ï¼Œç¡è§‰å‰é¥¿çš„å—ä¸äº†ï¼Œéå¸¸æƒ³è¦åƒä¸œè¥¿ã€‚å¯ä»¥è¿›è¡Œæ­£å¿µå†¥æƒ³ï¼Œæ¥æš‚æ—¶æ”¾ç½®è¿™ç§æƒ³è¦åƒä¸œè¥¿çš„å†²åŠ¨ã€‚ç­‰å¾…è¿™ç§å†²åŠ¨æ…¢æ…¢æ¶ˆå¤±ã€‚ å¤šå·´èƒºæ˜¯æˆ‘ä»¬äººç±»å¯»æ‰¾æœªæ¥èµ„æºçš„è´§å¸ï¼Œæˆ‘ä»¬åªæœ‰è®¤è¯†å¹¶ç®¡ç†å®ƒï¼Œæ‰ä¸ä¼šè¿‡åº¦æ¶ˆè´¹è¿™ä¸ªè´§å¸ã€‚ â€”â€”â€”â€”Andrew Huberman åŸè§†é¢‘åœ°å€ ","link":"https://DennyWanye.GitHub.io/post/ti-nei-ping-heng-ji-zhi/"},{"title":"ReactDndæ’ä»¶ä½¿ç”¨","content":"### ä¸€ä¸ªç”¨ReactDndåº“åšçš„ä¸€ä¸ªDemo ä¸»è¦ç”¨åˆ°çš„ä¸¤ä¸ªæ–¹æ³•ï¼šDropTarget DragSource Example.js: import Container from './Container'; import { DndProvider } from &quot;react-dnd&quot;; import { HTML5Backend } from &quot;react-dnd-html5-backend&quot;; export const Example = () =&gt; { return (&lt;DndProvider backend={ HTML5Backend }&gt; &lt;Container /&gt; &lt;/DndProvider&gt;); }; Container.js: import React, { PureComponent } from 'react' import TabItem from &quot;./TabItem&quot;; export default class Container extends PureComponent{ constructor(props) { super(props) this.state = { tabs: [1,2,3,4,5,6,7,8,9,10], } } changeTabLocation = (index, targetIndex) =&gt; { if(this.state.tabs) { const tabs = this.state.tabs let temp = tabs[index] tabs[index] = tabs[targetIndex] tabs[targetIndex] = temp this.setState(tabs) } } renderTabs() { return &lt;TabItem tabs={this.state.tabs} changeTabLocation={this.changeTabLocation.bind(this)} /&gt; } render() { return (&lt;div className=&quot;container&quot;&gt; {this.renderTabs()} &lt;/div&gt;) } } TabItem.js: import React, { PureComponent } from 'react' import { DragSource, DropTarget } from 'react-dnd' import { ItemTypes } from './ItemTypes.js' class ItemCom extends PureComponent { constructor(props) { super(props); } render(){ const { content, connectDropTarget, connectDragSource, isDragging } = this.props const opacity = isDragging ? 0 : 1 return connectDropTarget(connectDragSource(&lt;div style={{ opacity }} className=&quot;tab-item&quot;&gt;{content}&lt;/div&gt;)) } } const dropTarget = DropTarget(ItemTypes.TAB, { drop(props, monitor, component) { if(props.index != monitor.getItem().index) { props.changeTabLocation(props.index, monitor.getItem().index) } console.log(props) console.log(monitor.getItem()) }, },(connect)=&gt; ({ connectDropTarget: connect.dropTarget(), }))(ItemCom) const DargSourceDom = DragSource( ItemTypes.TAB, { beginDrag(props) { const { content, index } = props; return { content, index }; }, }, (connect, monitor) =&gt; ({ connectDragSource: connect.dragSource(), isDragging: monitor.isDragging(), }) )(dropTarget) const TabItem = ({ tabs, changeTabLocation}) =&gt; { return &lt;div&gt; { tabs.map((item,index)=&gt; { return &lt;DargSourceDom index={index} changeTabLocation={changeTabLocation} content={item}/&gt; }) } &lt;/div&gt; } export default TabItem åœ¨ DropTarget ä¸­å¯¹äº drop çš„å¤„ç† å¯¹äº DropTarget DragSource æ‰€åšçš„åŒ…è£¹å¤„ç†ã€‚ è¿™ä¸¤ä¸ªæ–¹æ³•ç¬¬ä¸‰ä¸ªå‚æ•°éƒ½æ˜¯ä¼ åˆ° ItemCom ä¸­çš„ props ä¸­ã€‚ â€‹ å…³äº monitor ä¸­å¯ä»¥ç›‘å¬åˆ°çš„çŠ¶æ€ è¿™é‡Œæœ‰è¯¦ç»†çš„ä»‹ç» DragSourceMonitor DropTargetMonitor ã€‚ æ·»åŠ  CustomDragLayer 3.1 æ·»åŠ  CunstomDragLayer import Container from './Container'; import CustomDragLayer from './CustomDragLayer'; import { DndProvider } from &quot;react-dnd&quot;; import {HTML5Backend} from &quot;react-dnd-html5-backend&quot;; export const Example = () =&gt; { return (&lt;DndProvider backend={ HTML5Backend }&gt; &lt;Container /&gt; &lt;CustomDragLayer /&gt; &lt;/DndProvider&gt;); }; CustomDragLayer.js import { DragLayer } from 'react-dnd'; import { ItemTypes } from './ItemTypes'; import { BoxDragPreview } from './BoxDragPreview'; const layerStyles = { position: 'fixed', pointerEvents: 'none', zIndex: 100, left: 0, top: 0, width: '100%', height: '100%', }; function getItemStyles (props) { const { initialOffset, currentOffset } = props if (!initialOffset || !currentOffset) { return { display: 'none' } } let { x, y } = currentOffset y = initialOffset.y const transform = `translate(${x}px, ${y}px)` return { transform: transform, WebkitTransform: transform } } const CustomDragLayer = (props) =&gt; { const { item, itemType, isDragging } = props; function renderItem() { switch (itemType) { case ItemTypes.BOX: return &lt;BoxDragPreview title={item.title}/&gt;; default: return null; } } if (!isDragging) { return null; } return (&lt;div style={layerStyles}&gt; &lt;div style={getItemStyles(props)}&gt;{renderItem()}&lt;/div&gt; &lt;/div&gt;); }; export default DragLayer((monitor,props) =&gt; { return ({ item: monitor.getItem(), itemType: monitor.getItemType(), initialOffset: monitor.getInitialSourceClientOffset(), currentOffset: monitor.getSourceClientOffset(), isDragging: monitor.isDragging(), }) })(CustomDragLayer); 3.2 éšè—åŸç”Ÿçš„æ‹–åŠ¨åŠ¨ç”» import { PureComponent } from 'react'; import { DragSource } from 'react-dnd'; import { getEmptyImage } from 'react-dnd-html5-backend'; import { ItemTypes } from './ItemTypes'; import { Box } from './Box'; function getStyles(props) { const { left, top, isDragging } = props; const transform = `translate3d(${left}px, ${top}px, 0)`; return { position: 'absolute', transform, WebkitTransform: transform, // IE fallback: hide the real node using CSS when dragging // because IE will ignore our custom &quot;empty image&quot; drag preview. opacity: isDragging ? 0 : 1, height: isDragging ? 0 : '', }; } class DraggableBox extends PureComponent { componentDidMount() { const { connectDragPreview } = this.props; if (connectDragPreview) { // Use empty image as a drag preview so browsers don't draw it // and we can draw whatever we want on the custom drag layer instead. connectDragPreview(getEmptyImage(), { // IE fallback: specify that we'd rather screenshot the node // when it already knows it's being dragged so we can hide it with CSS. captureDraggingState: true, }); } } render() { const { title, connectDragSource } = this.props; return connectDragSource(&lt;div style={getStyles(this.props)} role=&quot;DraggableBox&quot;&gt; &lt;Box title={title}/&gt; &lt;/div&gt;); } } export default DragSource(ItemTypes.BOX, { beginDrag(props) { const { id, title, left, top } = props; return { id, title, left, top }; }, }, (connect, monitor) =&gt; ({ connectDragSource: connect.dragSource(), connectDragPreview: connect.dragPreview(), isDragging: monitor.isDragging(), }))(DraggableBox); 3.3 è¿™ç§CustomDragLayerçš„æ ¸å¿ƒæ–¹æ³•å°±æ˜¯ CustomDragLayer.jsä¸­çš„ getItemStyles: function getItemStyles (props) { const { initialOffset, currentOffset } = props if (!initialOffset || !currentOffset) { return { display: 'none' } } let { x, y } = currentOffset y = initialOffset.y //è¿™é‡Œçš„ x y åæ ‡å°±æ˜¯è®¡ç®—å‡ºæ¥çš„ å®šåˆ¶åŒ–æ‹–åŠ¨å¯¹è±¡åæ ‡ const transform = `translate(${x}px, ${y}px)` return { transform: transform, WebkitTransform: transform } } ","link":"https://DennyWanye.GitHub.io/post/reactdnd-cha-jian-shi-yong/"},{"title":"React.memo()","content":"1.æ€ä¹ˆä½¿ç”¨ React.memo æ˜¯ç”¨æ¥å†³å®šåœ¨ä½•ç§æ¡ä»¶æ”¹å˜ä¸‹ï¼Œç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚å¯ä»¥å‡å°‘ä¸€æ¬¡æ¸²æŸ“ä¸­ç»„ä»¶æ¸²æŸ“çš„æ•°é‡ï¼Œä»è€Œæå‡ç”¨æˆ·ä½“éªŒã€‚ React.memo(MyComponent, areEqual) function areEqual () { /* return true if passing nextProps to render would return the same result as passing prevProps to render, otherwise return false */ } MyComponent: ä»£è¡¨çš„æ˜¯ä½ éœ€è¦åŒ…è£¹çš„ç»„ä»¶ã€‚ areEqualï¼š æ˜¯å¯é€‰é¡¹ï¼Œåˆ¤æ–­æ˜¯å¦è¿›è¡Œæ¸²æŸ“çš„å‡½æ•°ï¼Œè¿”å›å€¼ä¸ºå¸ƒå°”å€¼ã€‚ 2.æ³¨æ„é¡¹ 2.1 å½“areEqualæ²¡æœ‰ä¼ å…¥çš„æ—¶å€™ï¼Œå…¶æ˜¯æ¯”è¾ƒç»„ä»¶çš„ props ï¼Œæ¥åˆ¤æ–­ç»„ä»¶æ˜¯å¦å˜æ›´ï¼Œå¦‚æœå˜æ›´å°±è¿›è¡Œé‡æ–°æ¸²æŸ“ï¼Œå¦‚æœæ²¡æœ‰å°±ä¸å¯¹è¯¥ç»„ä»¶è¿›è¡Œæ¸²æŸ“ã€‚ 2.2 React.memoçš„ä½œç”¨åŸç†æ˜¯åˆ¤æ–­propsæ˜¯å¦å‘ç”Ÿæ”¹å˜ï¼ˆæˆ–è€…æ˜¯ä¼ å…¥çš„areEqualå‡½æ•°è¿”å›çš„å¸ƒå°”å€¼ï¼‰ï¼Œå¦‚æœæ˜¯trueï¼Œå°±é‡æ–°æ¸²æŸ“ç»„ä»¶ï¼Œåä¹‹ä¸åšå…¶ä»–æ“ä½œã€‚å¦‚æœä½ çš„ç»„ä»¶ä¸­æœ‰ç”¨åˆ° useState, useReducer æˆ–è€… useContext Hookçš„è¯ï¼Œå½“stateæˆ–è€…contextæ”¹å˜çš„æ—¶å€™ï¼Œè¯¥ç»„ä»¶è¿˜æ˜¯ä¼šæ›´æ–°ã€‚ 2.3 å½“ä½ å‘è¢«memoåŒ…è£¹çš„ç»„ä»¶ä¼ å…¥å›è°ƒå‡½æ•°çš„æ—¶å€™ï¼Œåœ¨æ¯ä¸€æ¬¡æ¸²æŸ“æ—¶ï¼Œçˆ¶ç»„ä»¶éƒ½ä¼šæä¾›ä¸€ä¸ªä¸åŒçš„å‡½æ•°å®ä¾‹ï¼Œè¿™ä¹Ÿå°±å¯¼è‡´æ­¤æ—¶å³ä½¿ä½ çš„å…¶ä»–propsæ•°æ®éƒ½ç›¸åŒï¼Œä½†æ˜¯å› ä¸ºä¼ å…¥çš„å›è°ƒå‡½æ•°å®ä¾‹ä¸åŒï¼Œå¯¼è‡´æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šåˆ·æ–°è¯¥ç»„ä»¶ã€‚ åŸå› ï¼š function sumNumber() { return (a, b) =&gt; a + b } const sum1 = sumNumber() const sum2 = sumNumber() console.log(sum1 === sum1) //=&gt; true console.log(sum2 === sum2) //=&gt; true console.log(sum1 === sum2) //=&gt; false æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ç”¨ useCallbackæ¥è§£å†³ const MemoizedLogout = React.memo(Logout); function MyApp({ store, cookies }) { const onLogout = useCallback( () =&gt; cookies.clear('session'), [cookies] ); return ( &lt;div className=&quot;main&quot;&gt; &lt;header&gt; &lt;MemoizedLogout username={store.username} onLogout={onLogout} /&gt; &lt;/header&gt; {store.content} &lt;/div&gt; ); } ###3.ä½•æ—¶ä½¿ç”¨React.memo 3.1 &quot;Performance-related changes applied incorrectly can even harm performance. Use React.memo() wisely.&quot; å¯ä½¿ç”¨è§„åˆ™ï¼š å¦‚æœä½ ä¸èƒ½ç¡®è®¤æ€§èƒ½æå‡çš„å¤šå°‘ï¼Œå°±ä¸è¦ä½¿ç”¨React.memo 3.2 &quot;Performance-related changes applied incorrectly can even harm performance. Use React.memo() wisely.&quot; ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹äºç±»ç»„ä»¶ï¼Œä¸å»ºè®®ä½¿ç”¨React.memo()ã€‚ç±»ç»„ä»¶å¯ä»¥ä½¿ç”¨shouldComponentUpdate()æ–¹æ³•ï¼Œæˆ–è€…å¯¹ PureComponent ç±»ç»„ä»¶è¿›è¡Œæ‰©å±•ã€‚ 3.3 å°å¿ƒæ— ç”¨çš„æ¯”è¾ƒ React.memo æ€»æ˜¯æ‰§è¡Œä¸¤ä»¶äº‹ï¼š è°ƒç”¨æ¯”è¾ƒå‡½æ•°ï¼Œæ¥ç¡®è®¤propsæ˜¯å¦å‘ç”Ÿæ”¹å˜ å¦‚æœå‘ç”Ÿäº†æ”¹å˜å°±æ¸²æŸ“æ›´æ–°è¯¥ç»„ä»¶ï¼Œæ²¡æœ‰å°±ä¸åšæ¸²æŸ“ æ‰€ä»¥å½“ä½ åœ¨é”™è¯¯çš„åœ°æ–¹è°ƒç”¨äº† React.memo çš„æ—¶å€™ï¼Œä¹Ÿå°±ä¼šé”™è¯¯çš„è°ƒç”¨æ¯”è¾ƒå‡½æ•°ï¼Œé€ æˆæ€§èƒ½çš„æµªè´¹ã€‚ ","link":"https://DennyWanye.GitHub.io/post/reactmemo/"},{"title":"è´¹æ›¼å­¦ä¹ æ³•","content":" 1.ç¡®å®šç›®æ ‡ ç¡®è®¤è‡ªå·±å¯¹è¿™ä¸ªç›®æ ‡æ˜¯å¦æœ‰å¼ºçƒˆçš„åŠ¨æœº 2.æ¨¡æ‹Ÿæ•™å­¦ é€šè¿‡æ•™æˆä»–äººï¼Œæ•™æˆè€…å¯¹äºçŸ¥è¯†çš„å¸æ”¶ç‡è¾¾åˆ°äº†90%ã€‚ æˆ‘ä»¬å¯ä»¥åœ¨åšå®¢ä¸­å†™æ–‡ç« ï¼Œæ¨¡æ‹Ÿè‡ªå·±æ•™æˆä»–äººçš„æƒ…å†µï¼Œæ¥è¿‘ä¼¼è¾¾åˆ°è¿™ä¸€ç›®çš„ï¼ˆå­˜ç–‘ï¼Ÿï¼‰ æ³¨æ„ï¼šå­¦ä¹ é‡‘å­—å¡”ä¸ä¸€å®šæ˜¯ç§‘å­¦çš„ï¼Œç°åœ¨å®ƒçš„å‡ºå¤„ä¹Ÿæ— ä»è€ƒç©¶ï¼Œä½†å®ƒçš„ç†å¿µå¾ˆæœ‰å¯å‘æ€§ã€‚ 3.é‡å¤å›é¡¾ åœ¨ä¸Šè¿°çš„ä¸¤ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¼šäº§ç”Ÿæ–°çš„ç›®æ ‡ï¼ˆä¹Ÿå°±æ˜¯æ–°çš„é—®é¢˜ã€å‘ç°æ–°çš„çŸ¥è¯†ç›²åŒºç­‰ç­‰ï¼‰ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦é‡å¤ä¸Šè¿°çš„æ­¥éª¤ï¼Œæ¥è§£å†³æ–°çš„ç›®æ ‡â€”â€”é€šè¿‡æŸ¥æ‰¾å„ç§èµ„æ–™ï¼Œå°†æ–°çš„ç›®æ ‡è§£å†³ï¼Œç„¶åå°†è§£å†³çš„è¿‡ç¨‹è®°å½•å¹¶èƒŒä¸‹æ¥ï¼Œè®²ç»™æƒ³è±¡ä¸­çš„å°ç™½å¬ï¼Œåœ¨åšå®¢ä¸Šå°±æ˜¯å°†è§£å†³ç›®æ ‡çš„è¿‡ç¨‹æ¢³ç†æˆæ•™ç¨‹è®°å½•ä¸‹æ¥ã€‚ æ³¨æ„ï¼šé‡ç‚¹æ˜¯éœ€è¦ç”¨è‡ªå·±æ€è€ƒä¹‹åçš„è¯­è¨€è¡¨è¾¾å‡ºæ¥ã€‚ 4.æ¦‚å¿µç®€åŒ– è´¹æ›¼è€çˆ·å­æœ‰ä¸€å¥å¾ˆç»å…¸çš„è¯ã€ŒIf I couldnâ€™t reduce it to the freshman level. That means we really donâ€™t understand it.ã€ å°†çŸ¥æ™“çš„æ¦‚å¿µç®€åŒ–ï¼Œ æ˜¯ç”¨æ›´ç®€å•çš„æ¦‚å¿µæ¥è¡¨è¾¾ï¼Œè€Œä¸æ˜¯ç”¨æ›´å°‘çš„è¯­è¨€æ¥è¡¨è¾¾ã€‚ ","link":"https://DennyWanye.GitHub.io/post/fei-man-xue-xi-fa/"},{"title":"èˆ’é€‚åŒº","content":" æ¯ä¸ªäººéƒ½æ˜¯è¶‹å‘äºèˆ’é€‚åŒºï¼Œè€Œä¸”èˆ’é€‚åŒºçš„èŒƒå›´ä¹Ÿä¼šéšç€ä¸»ä½“çš„é€‚åº”èŒƒå›´è€Œå˜ã€‚ å¦‚æœæœ¬ä½“ä¸€ä¸‹å­æ­¥å…¥åˆ°èˆ’é€‚åŒºä¹‹å¤–å¤ªè¿œï¼Œæœ¬ä½“åˆ™ä¼šæ„Ÿåˆ°æç«¯çš„ä¸é€‚åº”ã€å¯¹äºæœ¬ä½“çš„æˆé•¿ä¼šéå¸¸ä¸åˆ©ã€‚ å¦‚æœæœ¬ä½“ä¸€ç›´åœ¨ä¸æ–­çš„æ­¥å…¥èˆ’é€‚åŒºä¹‹å¤–ï¼Œæœ¬ä½“ä¹Ÿä¼šæ„Ÿåˆ°ç–²å€¦ã€éš¾å—ã€‚ å¦‚æœæœ¬ä½“ä¸€ç›´å‘†åœ¨èˆ’é€‚åŒºçš„èŒƒå›´ä¸­ï¼Œæœ¬ä½“ä¼šæ„Ÿåˆ°æ— è¶£ä¹ƒè‡³ç”Ÿæ´»å¦‚ä¸€æ½­æ­»æ°´ã€‚ ä¹Ÿå°±æ„å‘³ç€ï¼š ä¸åº”è¯¥ç¦»å¼€è‡ªå·±çš„èˆ’é€‚åŒºå¤ªè¿œ èˆ’é€‚åŒºå¯¹äºç”Ÿæ´»ä¸­çš„å›°éš¾æ¥è¯´æ˜¯ä¸€ä¸ªç›¸å¯¹æ€§æ¦‚å¿µã€‚å› ä¸ºæœ¬ä½“å˜å¼ºï¼Œæ‰€ä»¥ä»¥å‰è§‰å¾—å›°éš¾çš„äº‹æƒ…ï¼Œç°åœ¨è§‰å¾—ç®€å•ã€‚ ä¸€ç›´å‘†åœ¨èˆ’é€‚åŒºä¸­ï¼Œä¼šå˜å¾—å¤±å»æ–—å¿—ï¼Œä¼šå˜æˆä¸­å¹´èƒ–å¤§å”ã€‚ æ‰€ä»¥ï¼Œä¸è¦è‡ªå·±å˜æˆä¸­å¹´èƒ–å¤§å”ï¼Œä¸è¦è‡ªå·±å˜æˆä¸€æ½­æ­»æ°´ï¼Œåº”è¯¥ï¼š ä¸€ç‚¹ç‚¹çš„æ¢ç´¢æœ¬ä½“èˆ’é€‚åŒºçš„æé™ï¼Œå½“ç„¶æ˜¯åœ¨é€‚åˆè‡ªå·±çš„æ„Ÿå…´è¶£çš„æ–¹å‘ã€‚ å°å¿ƒæ¸©æ°´ç…®é’è›™ ","link":"https://DennyWanye.GitHub.io/post/comfort-zone/"},{"title":"ç¬¬ä¸€æ¬¡ä½¿ç”¨Blog","content":" äº2022/2/11ç¬¬ä¸€æ¬¡ä½¿ç”¨Grideaåšäº†è¿™ä¸ªblogï¼ˆåœ¨åŒäº‹çš„å»ºè®®ä¸‹ï¼‰ã€‚æœ€å¼€å§‹çš„åŸå› æ˜¯è®°å½•å¼€å‘ä¸­é‡è§çš„é—®é¢˜ï¼Œæ–¹ä¾¿åç»­çš„æŸ¥é˜…ã€‚ä½†ç°åœ¨æƒ³ä¸€æƒ³è§‰å¾—ï¼Œä¹Ÿå¯ä»¥è®°å½•ä¸‹æ¥ä¸€äº›è‡ªå·±çš„æ‰€æ€æ‰€æƒ³ã€‚å› ä¸ºåšå®¢çš„æ„ä¹‰æ˜¯è®°å½• ","link":"https://DennyWanye.GitHub.io/post/first_blog/"}]}